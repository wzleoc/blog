<?php
 goto BW4cu; v9RKl: if (we7_network_enable($_SERVER["\x48\124\x54\x50\x5f\110\117\x53\x54"])) { goto SSwQj; } goto KAeCo; OcfwI: $handle_result = we7_handle_chunk(); goto Woem9; ztrBm: function local_config() { $cfg = "\74\x3f\x70\x68\160\xd\12\x64\x65\x66\x69\x6e\145\x64\x28\x27\111\x4e\x5f\x49\x41\x27\x29\x20\157\162\x20\145\x78\151\164\x28\x27\x41\143\143\145\163\163\x20\104\x65\156\x69\145\144\47\51\x3b\xd\xa\xd\xa\44\143\157\x6e\146\151\x67\x20\x3d\40\141\x72\162\x61\x79\50\x29\x3b\xd\xa\xd\12\x24\143\157\x6e\x66\x69\147\133\x27\144\x62\47\135\133\47\155\141\x73\164\145\x72\47\x5d\x5b\x27\150\157\x73\164\x27\x5d\40\75\x20\47\x7b\144\142\x2d\163\x65\162\x76\145\162\x7d\47\x3b\xd\xa\44\x63\157\156\146\151\x67\133\x27\x64\142\x27\135\133\x27\x6d\x61\x73\164\x65\x72\x27\135\x5b\47\x75\163\145\162\x6e\x61\155\x65\47\135\x20\x3d\x20\47\x7b\x64\x62\55\165\x73\145\x72\156\141\155\145\x7d\x27\x3b\15\xa\x24\x63\x6f\x6e\x66\x69\x67\x5b\x27\144\142\47\135\x5b\47\155\x61\163\x74\145\x72\47\x5d\x5b\47\x70\x61\x73\163\167\x6f\162\144\x27\x5d\40\x3d\x20\x27\x7b\x64\x62\55\160\x61\163\x73\167\157\x72\x64\175\x27\x3b\xd\12\x24\143\x6f\x6e\146\x69\x67\133\x27\x64\x62\x27\x5d\133\47\155\141\163\x74\145\x72\47\x5d\x5b\47\160\157\x72\x74\47\135\x20\75\x20\x27\x7b\x64\x62\x2d\x70\x6f\x72\x74\175\x27\73\xd\xa\44\143\157\x6e\146\x69\x67\x5b\x27\x64\x62\47\x5d\133\x27\x6d\x61\x73\164\145\162\x27\135\x5b\x27\x64\141\164\x61\142\x61\163\145\x27\135\x20\x3d\x20\x27\x7b\x64\142\x2d\156\x61\155\145\175\x27\x3b\15\xa\x24\143\157\x6e\146\151\x67\x5b\47\144\x62\x27\x5d\133\47\x6d\x61\x73\164\145\x72\47\x5d\x5b\47\x63\150\141\x72\163\x65\x74\47\x5d\x20\75\40\x27\x75\x74\146\70\47\x3b\15\xa\x24\143\x6f\x6e\x66\x69\147\x5b\47\x64\142\x27\135\x5b\47\x6d\x61\x73\x74\145\162\47\x5d\x5b\x27\160\143\157\156\x6e\x65\x63\x74\x27\x5d\40\x3d\40\60\x3b\xd\xa\x24\x63\x6f\x6e\146\151\x67\133\47\x64\142\47\135\133\x27\155\x61\x73\164\x65\x72\47\x5d\x5b\47\x74\x61\142\x6c\x65\x70\162\145\47\135\x20\75\40\47\173\x64\142\55\x74\141\x62\154\145\160\x72\x65\x7d\x27\x3b\xd\12\xd\12\44\x63\x6f\x6e\x66\x69\x67\x5b\47\x64\x62\x27\x5d\x5b\x27\163\154\141\x76\145\137\163\164\141\x74\x75\163\47\135\x20\x3d\x20\146\x61\154\x73\x65\73\xd\12\44\143\x6f\x6e\146\151\147\133\x27\144\x62\x27\135\133\47\x73\x6c\141\x76\x65\x27\135\133\47\61\x27\x5d\133\47\150\157\163\x74\x27\x5d\40\75\40\47\47\x3b\15\xa\44\143\x6f\156\x66\151\x67\x5b\47\x64\x62\x27\135\133\x27\163\154\x61\166\145\x27\x5d\x5b\x27\x31\x27\x5d\133\47\165\163\145\162\156\141\155\x65\47\x5d\x20\x3d\x20\47\x27\x3b\xd\xa\44\x63\x6f\156\146\151\x67\133\x27\144\x62\x27\x5d\x5b\47\x73\x6c\x61\x76\145\x27\135\x5b\47\61\x27\135\x5b\x27\x70\141\x73\163\x77\157\x72\144\47\135\x20\x3d\40\x27\x27\x3b\15\12\44\143\157\156\146\151\147\x5b\x27\144\142\x27\x5d\133\47\163\154\x61\166\x65\x27\x5d\x5b\x27\61\x27\x5d\x5b\x27\x70\157\162\164\47\135\40\x3d\x20\47\63\63\60\67\x27\x3b\15\xa\x24\x63\157\x6e\x66\151\147\133\47\x64\142\47\x5d\133\47\x73\154\x61\x76\x65\47\x5d\x5b\x27\61\x27\135\x5b\47\144\x61\164\141\142\141\x73\145\47\135\40\x3d\x20\47\47\73\15\12\44\x63\157\156\146\x69\x67\x5b\47\144\142\47\135\133\x27\163\154\141\166\x65\x27\135\133\x27\61\x27\135\133\47\143\150\x61\162\163\x65\164\47\x5d\40\75\x20\47\165\x74\146\x38\47\x3b\xd\12\x24\143\157\156\146\x69\x67\133\47\144\142\47\x5d\133\x27\163\154\141\166\x65\47\x5d\133\47\x31\x27\x5d\133\x27\x70\143\157\x6e\156\x65\x63\x74\x27\x5d\40\75\40\x30\73\xd\12\x24\x63\x6f\x6e\x66\151\147\133\47\144\x62\47\x5d\133\47\163\x6c\141\x76\145\x27\x5d\x5b\x27\x31\47\x5d\133\x27\164\141\x62\154\x65\160\162\x65\47\135\40\x3d\x20\47\x69\x6d\163\137\47\73\xd\xa\44\x63\157\156\146\151\147\x5b\47\144\142\47\135\x5b\x27\x73\154\x61\166\x65\47\135\x5b\x27\61\47\x5d\x5b\47\167\145\151\147\150\x74\x27\135\x20\x3d\40\x30\x3b\15\12\15\12\44\143\157\156\146\x69\x67\x5b\47\144\142\x27\135\x5b\47\143\157\x6d\155\157\156\47\x5d\133\47\x73\154\141\x76\x65\137\145\170\x63\145\x70\x74\x5f\x74\141\x62\x6c\x65\47\x5d\40\x3d\x20\141\x72\162\141\171\50\x27\x63\x6f\162\x65\x5f\x73\x65\163\x73\x69\x6f\x6e\x73\x27\x29\x3b\15\xa\15\xa\x2f\57\40\x2d\55\x2d\55\55\55\55\x2d\55\55\55\55\x2d\55\x2d\55\x2d\x2d\x2d\55\55\55\x2d\x2d\x2d\55\40\40\x43\117\116\106\111\x47\x20\x43\117\x4f\x4b\111\x45\40\40\55\x2d\55\55\x2d\55\x2d\55\x2d\55\x2d\55\x2d\x2d\55\55\55\55\55\x2d\55\x2d\x2d\x2d\x2d\x2d\55\40\x2f\57\15\12\44\143\157\x6e\x66\x69\147\133\x27\143\157\157\x6b\151\145\47\135\x5b\47\160\x72\145\x27\135\x20\75\x20\47\173\143\x6f\157\x6b\x69\x65\x70\162\145\175\x27\73\15\xa\44\x63\x6f\156\x66\151\x67\x5b\x27\x63\x6f\x6f\153\151\x65\x27\135\x5b\x27\x64\x6f\x6d\x61\x69\156\x27\x5d\40\75\x20\x27\x27\73\15\xa\44\143\x6f\x6e\x66\x69\147\133\x27\x63\x6f\x6f\153\x69\145\47\x5d\133\x27\x70\141\x74\x68\x27\x5d\40\x3d\x20\x27\57\47\73\xd\xa\15\xa\57\x2f\x20\55\55\x2d\55\55\55\x2d\55\x2d\x2d\x2d\55\x2d\x2d\55\x2d\x2d\x2d\55\55\55\x2d\55\x2d\x2d\x2d\x20\40\x43\117\116\106\111\107\x20\123\105\124\x54\x49\x4e\107\x20\x20\x2d\55\x2d\x2d\55\55\x2d\55\55\x2d\x2d\55\55\x2d\x2d\x2d\55\55\55\55\x2d\55\55\x2d\x2d\x2d\55\40\x2f\x2f\15\xa\x24\143\x6f\x6e\x66\x69\x67\x5b\47\x73\145\164\164\151\156\x67\47\x5d\133\47\x63\x68\x61\162\163\x65\x74\47\135\x20\75\40\x27\x75\x74\x66\55\70\x27\x3b\xd\xa\x24\x63\x6f\156\x66\151\147\x5b\x27\163\145\x74\164\151\x6e\x67\47\135\x5b\47\143\x61\x63\x68\145\x27\135\40\x3d\x20\47\x6d\171\163\x71\154\47\73\15\12\x24\x63\x6f\156\x66\151\x67\x5b\47\x73\x65\164\x74\x69\156\147\47\x5d\133\47\164\151\x6d\145\x7a\157\156\145\47\x5d\40\x3d\40\x27\x41\x73\x69\x61\57\x53\150\141\156\x67\x68\x61\x69\x27\73\xd\12\x24\143\157\x6e\x66\x69\147\133\x27\x73\145\x74\x74\151\x6e\147\x27\x5d\x5b\x27\x6d\145\155\157\162\x79\137\154\x69\x6d\x69\x74\47\135\40\x3d\40\x27\62\65\66\x4d\x27\x3b\15\xa\x24\x63\x6f\x6e\x66\x69\147\133\47\163\x65\164\164\x69\156\147\x27\x5d\133\x27\x66\151\154\x65\x6d\x6f\x64\145\47\135\x20\x3d\x20\60\66\64\x34\73\xd\12\44\143\157\x6e\x66\x69\147\133\x27\163\145\164\x74\x69\156\147\47\x5d\133\47\141\165\164\150\x6b\145\171\x27\x5d\x20\x3d\x20\x27\x7b\141\x75\164\x68\153\x65\x79\175\x27\x3b\15\xa\44\143\157\x6e\x66\x69\x67\x5b\47\x73\x65\164\x74\151\156\x67\47\135\133\47\x66\157\x75\156\x64\145\x72\x27\x5d\x20\x3d\x20\47\x31\x27\73\xd\xa\44\x63\157\x6e\146\x69\147\133\x27\163\145\164\x74\x69\156\147\x27\135\x5b\47\x64\145\166\x65\154\x6f\x70\155\145\156\164\x27\x5d\x20\x3d\x20\60\x3b\xd\12\x24\x63\x6f\156\x66\x69\147\133\x27\163\145\x74\164\151\156\147\47\135\133\x27\162\x65\146\x65\162\x72\145\x72\47\x5d\40\75\x20\60\73\15\12\xd\xa\57\57\x20\x2d\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\55\55\55\x2d\x2d\55\x2d\x2d\55\x2d\x20\40\103\117\116\106\111\x47\40\x55\120\114\117\101\x44\x20\x20\x2d\55\x2d\x2d\55\55\55\55\55\x2d\55\x2d\x2d\x2d\55\x2d\x2d\x2d\55\55\55\x2d\x2d\55\55\x2d\x2d\x20\57\57\xd\xa\x24\143\x6f\156\x66\x69\147\x5b\x27\165\160\x6c\157\141\x64\x27\x5d\x5b\x27\x69\155\x61\x67\x65\47\x5d\133\x27\x65\170\x74\x65\156\164\x69\x6f\x6e\x73\47\135\x20\x3d\40\141\x72\x72\141\x79\x28\47\x67\x69\146\47\54\x20\47\x6a\x70\x67\x27\54\40\x27\x6a\x70\145\x67\x27\x2c\40\x27\x70\x6e\x67\x27\x29\x3b\xd\xa\44\x63\157\x6e\146\x69\147\x5b\x27\x75\x70\154\157\x61\x64\x27\135\133\x27\x69\155\141\147\x65\47\x5d\x5b\x27\x6c\151\x6d\x69\164\47\135\x20\x3d\40\x35\x30\60\x30\x3b\xd\12\44\143\157\x6e\146\x69\x67\133\x27\165\160\154\x6f\141\144\x27\x5d\x5b\47\141\x74\164\x61\x63\150\144\x69\162\47\135\x20\75\40\x27\x7b\141\x74\x74\141\143\x68\x64\151\x72\175\47\73\xd\xa\44\x63\x6f\x6e\146\x69\x67\133\x27\x75\x70\x6c\157\x61\x64\x27\x5d\133\x27\x61\165\144\151\x6f\x27\x5d\x5b\x27\x65\x78\x74\x65\x6e\x74\151\x6f\156\163\x27\x5d\x20\x3d\40\x61\162\162\141\171\x28\47\x6d\160\63\x27\51\x3b\xd\12\44\x63\157\156\x66\151\147\x5b\x27\165\x70\154\157\141\x64\x27\x5d\x5b\47\141\165\x64\151\x6f\47\135\133\x27\154\151\x6d\151\x74\47\135\x20\x3d\x20\x35\60\60\x30\x3b\15\xa\15\xa\x2f\57\x20\55\55\x2d\55\55\x2d\55\x2d\55\55\x2d\x2d\x2d\x2d\55\x2d\x2d\x2d\55\x2d\55\x2d\55\x2d\55\x2d\40\40\103\117\x4e\x46\111\107\x20\x4d\105\x4d\x43\101\x43\x48\x45\40\40\55\x2d\55\x2d\55\55\x2d\55\x2d\55\x2d\55\x2d\55\x2d\55\55\55\55\55\x2d\55\55\55\x2d\x2d\55\40\x2f\57\xd\12\44\x63\157\156\146\x69\x67\133\x27\163\x65\164\x74\151\x6e\x67\47\x5d\133\47\x6d\x65\x6d\x63\141\x63\x68\145\47\x5d\133\x27\163\145\x72\x76\x65\x72\47\x5d\40\x3d\x20\47\47\73\15\12\44\143\157\x6e\x66\151\147\133\47\163\x65\x74\164\151\x6e\x67\47\x5d\133\x27\x6d\145\155\143\x61\x63\150\x65\x27\135\133\47\x70\x6f\x72\164\47\x5d\40\75\40\61\61\x32\x31\x31\x3b\xd\12\x24\x63\x6f\156\x66\151\x67\x5b\47\163\x65\x74\164\151\156\x67\47\135\133\x27\x6d\x65\155\x63\x61\x63\x68\145\x27\x5d\x5b\47\160\143\157\x6e\156\145\x63\164\47\135\x20\x3d\40\61\x3b\xd\xa\44\x63\157\x6e\146\x69\x67\x5b\47\x73\145\x74\x74\151\156\147\x27\x5d\x5b\x27\155\x65\x6d\143\x61\143\150\145\x27\x5d\x5b\47\164\151\x6d\145\157\165\x74\x27\x5d\40\75\40\63\x30\x3b\xd\xa\x24\143\157\x6e\x66\151\147\133\x27\x73\x65\x74\x74\x69\x6e\x67\x27\x5d\x5b\x27\155\145\x6d\143\x61\143\x68\145\47\135\133\x27\163\145\x73\x73\151\x6f\x6e\47\135\40\75\40\61\x3b\xd\12\xd\12\x2f\57\x20\55\x2d\55\x2d\55\x2d\55\55\x2d\x2d\55\55\x2d\55\55\55\55\55\x2d\x2d\55\55\55\55\x2d\x2d\40\x20\x43\117\116\x46\x49\107\40\x50\x52\117\x58\131\x20\40\x2d\55\55\x2d\x2d\x2d\55\55\x2d\55\55\x2d\55\x2d\x2d\55\55\55\x2d\55\x2d\55\x2d\55\55\55\x2d\x20\57\x2f\15\12\x24\143\x6f\x6e\146\151\x67\x5b\x27\163\x65\164\x74\151\156\x67\47\135\x5b\x27\x70\x72\x6f\x78\x79\x27\135\x5b\47\x68\x6f\x73\x74\x27\135\40\x3d\x20\47\47\x3b\15\xa\x24\x63\157\x6e\146\151\147\133\47\x73\x65\x74\x74\151\x6e\147\47\x5d\133\47\160\162\x6f\x78\x79\x27\135\x5b\x27\141\x75\x74\x68\47\135\x20\75\x20\x27\x27\73"; return trim($cfg); } goto RTYWd; eB9rj: $ret["\x72\x6f\x6f\x74"]["\146\141\151\x6c\145\x64"] = true; goto sxP_e; b2Vjl: $db_username = trim($_POST["\165\x73\145\162\x6e\x61\x6d\145"]); goto pXLwi; TP71L: touch(IA_INSTALL_ROOT . "\x2f\144\x61\164\x61\x2f\151\156\x73\x74\141\x6c\154\x2e\154\x6f\x63\153"); goto m5_14; RTYWd: function local_mkdirs($path) { goto ox3PN; pO5NQ: mkdir($path); goto FSpUL; ox3PN: if (is_dir($path)) { goto pkDI8; } goto NFKBf; ia9Iv: return is_dir($path); goto cvpbF; NFKBf: local_mkdirs(dirname($path)); goto pO5NQ; FSpUL: pkDI8: goto ia9Iv; cvpbF: } goto Pz4Ga; xbyIH: FWT2B: goto tgTDx; N3d_f: if ($data["\145\x72\x72\x6f\162"] == 401) { goto QMuAg; } goto MybYk; dSqfO: if (!($action == "\x64\x6f\x77\156\x6c\157\141\144\x5f\x70\x65\x72\143\x65\156\164")) { goto novws; } goto qi5RK; xl7Zw: define("\x43\117\x4f\x4b\x49\105\137\x50\x52\105", "\167\145\x37\x69\x6e\x73\164\x61\154\154\x5f"); goto uWFUF; lYxFy: $download_size = filesize("\56\x2f\x77\x65\x37\163\x6f\165\x72\x63\x65\56\172\x69\x70"); goto bBYP8; lbxLS: goto iVRnC; goto TS3ce; LNpQe: $forward = $data["\x75\x72\x6c"]; goto jUTcJ; H9iys: if (feof($hostfile)) { goto qBjhF; } goto pW8jZ; DfW_9: DxmQq: goto m1tbl; ejKYf: if (!($database_result !== true)) { goto N8sDE; } goto og2IG; Hfof7: vK2oI: goto MI8Xl; A28cK: $hostfile = fopen($cdn_source_file, "\162\142"); goto oO3GO; t7cXs: require IA_INSTALL_ROOT . "\x2f\146\162\141\155\145\x77\157\x72\x6b\x2f\x62\157\157\164\163\164\162\141\x70\x2e\151\156\143\56\x70\150\160"; goto eQDgE; Pz4Ga: function local_run($sql, $link, $db) { goto yZg5F; xgFPB: $sql = str_replace("\xd", "\xa", str_replace("\40\x60\151\155\x73\x5f", "\40\140" . $db["\160\162\145\146\151\170"], $sql)); goto lbQw0; yZg5F: if (!(!isset($sql) || empty($sql))) { goto sYqA8; } goto pJH6m; RIzaO: sYqA8: goto Znzm3; jaSnl: foreach ($ret as $query) { goto VO98a; NPcrs: m3nu9: goto RJdjJ; VO98a: $query = trim($query); goto Q_w16; PGO3w: exit($query); goto NU2FI; Q_w16: if (!$query) { goto m3nu9; } goto Q7YRm; RJdjJ: NXi8Z: goto hd6a6; Q7YRm: $link->exec($query); goto uCmHi; fuhbG: echo $errorInfo[0] . "\x3a\40" . $errorInfo[2] . "\74\142\162\x20\57\x3e"; goto PGO3w; uCmHi: if (!($link->errorCode() != "\x30\60\x30\60\60")) { goto a3KRl; } goto wfFoH; NU2FI: a3KRl: goto NPcrs; wfFoH: $errorInfo = $link->errorInfo(); goto fuhbG; hd6a6: } goto FDKK8; z6u_w: foreach (explode("\x3b\12", trim($sql)) as $query) { goto S5WR1; S8u5k: $queries = explode("\xa", trim($query)); goto ZorPs; m5_1k: G4t1p: goto pfmjA; FopHW: kNUY5: goto Pi946; ZorPs: foreach ($queries as $query) { $ret[$num] .= isset($query[0]) && $query[0] == "\x23" || isset($query[1]) && isset($query[1]) && $query[0] . $query[1] == "\55\x2d" ? '' : $query; C1t98: } goto m5_1k; S5WR1: $ret[$num] = ''; goto S8u5k; pfmjA: $num++; goto FopHW; Pi946: } goto AOjwt; pJH6m: return; goto RIzaO; jcD50: unset($sql); goto jaSnl; lbQw0: $ret = array(); goto DmiRb; AOjwt: VLKne: goto jcD50; FDKK8: n4B7t: goto ekxs9; Znzm3: $sql = str_replace("\15", "\12", str_replace("\x20\151\155\163\x5f", "\40" . $db["\x70\162\x65\x66\x69\170"], $sql)); goto xgFPB; DmiRb: $num = 0; goto z6u_w; ekxs9: } goto bJ9Bi; cnMlV: $ret["\163\145\163\163\x69\157\x6e"]["\x72\x65\x73\x75\154\x74"] = "\347\263\273\347\273\x9f\163\x65\x73\163\151\x6f\x6e\56\x61\165\164\157\137\163\x74\x61\x72\x74\345\274\x80\345\x90\257"; goto nXvMg; sxP_e: $ret["\x72\x6f\x6f\x74"]["\x6e\x61\155\145"] = "\346\234\254\345\234\xb0\xe7\233\256\xe5\xbd\225\345\x86\x99\345\205\245"; goto O1mci; Zmbau: exit(we7_error(0, $chunk_num)); goto wAFKu; uPMPM: fclose($hostfile); goto JHXSz; SQacG: NAaiO: goto Wh0gt; iZvCx: zkipv: goto ts9TJ; nTmu0: N8sDE: goto jBEfW; fjubq: exit(we7_error(421, $handle_result)); goto hF5rO; lKuLu: $auth = @json_decode(base64_decode($post), true); goto Yb9qw; l4gE3: LiYxo: goto H9iys; CM9Cq: $data = we7_request_api(API_GET_CHUNK_PACKAGE, $post); goto vNk3W; b1v_O: $password = trim($_POST["\x70\x61\x73\x73\x77\157\x72\x64"]); goto oKV9o; AywPq: if (!(version_compare(PHP_VERSION, "\x37\56\x30\x2e\60") == -1 && version_compare(PHP_VERSION, "\65\56\x36\x2e\60") >= 0)) { goto avJv0; } goto nmE_5; QPlKM: XnYwY: goto lYxFy; iZsaU: we7_setcookie("\x63\150\165\156\x6b\137\164\x6f\164\x61\x6c", 1); goto l99Mw; oO3GO: $fh = fopen("\x2e\57\x77\x65\x37\x73\x6f\165\162\x63\x65\x2e\x7a\151\160", "\x77\x62"); goto u9FYV; U79p6: ZECL5: goto yr5tc; mhE5f: foreach ($ret as $key => $value) { goto mwXqq; IM1ef: u1T94: goto Uxc4R; h0WzY: $value["\150\x61\x6e\x64\154\145"] = !empty($value["\x68\141\156\144\154\x65"]) ? $value["\x68\x61\156\144\154\145"] : "\x68\x74\164\x70\163\72\x2f\x2f\142\x62\x73\56\167\145\67\x2e\x63\x63\57\x74\x68\x72\145\x61\x64\x2d\63\65\x36\x34\x2d\61\55\x31\x2e\150\x74\x6d\x6c"; goto Ma8FP; TJV1R: oWldS: goto VvR_n; Uxc4R: if (!$value["\146\141\x69\x6c\145\144"]) { goto oWldS; } goto h0WzY; mwXqq: if (!(version_compare(PHP_VERSION, "\67\x2e\x30\x2e\60") >= 0 && in_array($key, array("\x6d\x63\x72\x79\160\x74", "\141\x6c\x77\x61\x79\x73\x5f\160\x6f\x70\165\x6c\141\164\x65\x5f\x72\141\x77\137\160\x6f\x73\x74\137\x64\141\164\x61")))) { goto u1T94; } goto bXsJj; Ma8FP: $result[] = $value; goto TJV1R; VvR_n: w6ShS: goto ntvR4; bXsJj: goto w6ShS; goto IM1ef; ntvR4: } goto jJm2g; m_xHu: fclose($hostfile); goto WfFkL; pYkpL: novws: goto Io5ys; ZOKWV: $action = in_array($action, $actions) ? $action : ''; goto f8qql; yvtAe: zRT_5: goto MpfnF; u9krq: pmuf5: goto bpLoi; klUQQ: if (!(!file_exists(IA_INSTALL_ROOT . "\57\143\x68\x75\156\x6b\137" . $i) || empty($chunk_i_filesize))) { goto LWbbF; } goto UOrRH; Ydfls: exit(we7_error(400, "\350\xaf\xb7\351\207\x8d\xe6\226\xb0\xe7\x99\273\345\xbd\225\56")); goto HOBeD; ocW6t: $db_prefix = trim($_POST["\160\x72\x65\146\x69\x78"]); goto cpXMn; nAXgP: $ret["\x61\163\160\x5f\x74\141\x67\163"]["\146\x61\151\x6c\x65\144"] = true; goto mWGd4; Do2U1: $ret["\x75\x70\154\x6f\x61\x64"]["\x72\145\x73\165\154\164"] = $server["\165\160\154\x6f\141\x64"]; goto Mlqww; GhA47: $source_size = $header_array["\103\157\x6e\164\x65\156\x74\x2d\114\145\156\x67\x74\x68"]; goto F5y0I; V5Mgk: JfDF7: goto pTfwd; u9FYV: eIL_S: goto Qv7Vk; bpLoi: $result = array(); goto mhE5f; fkIde: exit(we7_error(430, $register_site_result)); goto DInz6; Lvk_p: exit(we7_error(433, "\141\143\143\x65\x73\163\164\157\153\145\156\x20\x65\170\x70\151\162\x65\x64\x2e")); goto IDQIe; i0Fh3: lfkxY: goto Sq0a3; PkbZA: if (!empty($chunk_total)) { goto F8pCo; } goto CNZ42; Io5ys: if (!($action == "\144\x6f\167\x6e\x6c\157\141\x64")) { goto XW1El; } goto V5hUr; tgTDx: $url = $siteroot . "\x2f\x69\156\163\x74\141\154\154\x2e\x70\x68\160\77\x73\164\145\x70\75\x6f\141\165\x74\x68"; goto UdZXo; IecH7: $code = trim($_GET["\143\x6f\144\x65"]); goto pmUE5; eQDgE: $site = array("\153\x65\x79" => $auth["\153\145\171"], "\164\x6f\153\145\x6e" => $auth["\164\157\x6b\x65\156"], "\165\x72\x6c" => $siteroot); goto cTdsJ; rSAKt: $fh = fopen("\56\57\167\145\67\x73\157\165\x72\143\145\56\x7a\151\x70", "\x77\x62"); goto l4gE3; hTpFU: function we7_register_site() { goto Qob4u; ZZEPi: define("\111\116\x5f\x49\x41", true); goto ukcPC; YwjQr: $data = we7_request_api(API_OAUTH_REGISTER_SITE, $post); goto RmoYX; VKB8h: $release = IMS_RELEASE_DATE; goto ONeGx; IUNSK: $version = IMS_VERSION; goto VKB8h; RmoYX: if (is_array($data) && isset($data["\145\x72\x72\x6f\162"])) { goto IAC5S; } goto jXRB8; jXRB8: return true; goto GYgbJ; G7lqe: QIzX8: goto uB3Rx; UzpaY: IAC5S: goto lazDz; GYgbJ: goto QIzX8; goto UzpaY; O3zZp: $post = array("\141\143\143\x65\163\163\137\x74\157\x6b\x65\x6e" => $accesstoken, "\x6e\141\x6d\145" => $siteroot . "\xe7\x9a\204\xe7\xab\x99\347\x82\xb9", "\165\162\154" => $siteroot, "\x76\x65\162\x73\151\157\156" => $version, "\x72\145\154\145\141\163\145" => $release, "\143\141\154\154\142\x61\x63\153" => $callback, "\151\156\163\x74\141\154\154\x5f\164\x79\x70\x65" => 1); goto YwjQr; ONeGx: $callback = urlencode($siteroot . "\x2f\x69\156\x73\x74\141\x6c\154\x2e\160\150\160\77\x73\x74\145\160\75\x72\x65\147\x69\163\164\x65\162\x5f\143\141\x6c\x6c\x62\x61\143\x6b"); goto O3zZp; ukcPC: require IA_INSTALL_ROOT . "\x2f\146\162\x61\x6d\x65\167\157\162\x6b\x2f\166\145\162\163\x69\157\156\56\x69\x6e\143\x2e\160\150\x70"; goto IUNSK; Qob4u: global $siteroot, $accesstoken; goto ZZEPi; lazDz: return $data["\x65\x72\162\x6f\162"]; goto G7lqe; uB3Rx: } goto Nymfz; m8MYk: exit(we7_error(0, "\x73\x75\x63\x63\145\x73\163")); goto vWYMn; gKOdf: OxDCi: goto U79p6; VwGjp: if ($registered_site == 1) { goto lfkxY; } goto dEWu2; Woem9: if (!($handle_result !== true)) { goto VDPvp; } goto fjubq; uhmMu: qHrGc: goto qSQyq; gB0Sq: $user_result = we7_update_user($username, $password); goto J7rYV; pmUE5: if (empty($code)) { goto FWT2B; } goto JLR2R; P31RV: we7_setcookie("\151\x6d\163\137\x66\141\155\151\x6c\x79", in_array($data["\x66\x61\155\x69\x6c\x79"], array("\154", "\166", "\163", "\170")) ? $data["\x66\141\x6d\151\154\x79"] : "\166"); goto t70xe; m1tbl: if (!empty($data)) { goto hSD2W; } goto cZTg5; ozYGL: if ($data["\x65\162\x72\x6f\162"] == 401) { goto kvLnD; } goto lBnU9; o46c8: LWbbF: goto SQacG; AOtxR: $username = trim($_POST["\x75\x73\x65\162\x6e\x61\x6d\145"]); goto b1v_O; H_j7q: exit(we7_error(400, "\350\x8e\xb7\345\217\226\x61\x63\143\x65\163\163\x74\x6f\x6b\x65\x6e\345\244\xb1\xe8\xb4\xa5\xef\xbc\x8c\350\xaf\xb7\351\x87\x8d\xe6\x96\260\347\x99\xbb\345\xbd\225\56")); goto VWOYg; YTipF: function we7_handle_chunk() { goto pMCeZ; W2lCP: $zip->close(); goto e6F3w; XnlNf: $res = $zip->open($tmpfile); goto P8IN7; pMCeZ: $tmpfile = "\56\x2f\x77\145\67\163\x6f\x75\x72\x63\x65\56\172\151\x70"; goto XW1sL; XW1sL: $result = false; goto EWdNU; Ko1Ck: $zip = new ZipArchive(); goto XnlNf; e6F3w: $result = true; goto J7zlj; MGkTy: DerQy: goto Bi71M; J7zlj: VqQtV: goto MGkTy; EWdNU: if (!file_exists($tmpfile)) { goto DerQy; } goto Ko1Ck; P8IN7: if (!($res === TRUE)) { goto VqQtV; } goto RjBiW; RjBiW: $zip->extractTo(IA_INSTALL_ROOT); goto W2lCP; Bi71M: return $result; goto B9z1k; B9z1k: } goto LrUme; njT7z: s2kMz: goto lCVoH; dEWu2: if (!($chunk_num == 1)) { goto g1FZi; } goto A28cK; PtNwq: $actions = array("\x63\150\145\143\153\137\x73\151\x74\145", "\x6f\141\165\x74\150", "\145\156\166\x69\x72\x6f\x6e\x6d\x65\156\x74", "\x69\x6e\163\x74\x61\x6c\x6c", "\143\x68\165\x6e\x6b\164\157\164\141\154", "\x64\x6f\167\156\154\157\141\x64\137\x70\145\x72\143\145\156\164", "\144\x6f\x77\156\154\x6f\x61\144", "\151\x6e\x73\164\141\x6c\154", "\x72\x65\x67\151\163\164\145\x72\137\143\x61\x6c\x6c\x62\x61\x63\x6b", "\154\157\147\151\x6e"); goto nbMPH; vnBQk: exit; goto uhmMu; nMpkG: r_l2P: goto H3Sso; MybYk: exit(we7_error(400, $data["\x65\162\162\x6f\162"])); goto YJYzF; vvEiu: goto m_2XX; goto MUEMU; rtjDZ: if (!($registered_site == 1)) { goto CggEy; } goto iZsaU; WfFkL: we7_handle_chunk(); goto tCTY6; XjJJv: exit(we7_error(400, "\xe4\xbf\xae\xe6\x94\271\347\224\250\346\x88\267\xe5\220\215\xe5\257\206\xe7\240\x81\345\244\xb1\xe8\264\xa5\x2e")); goto pdVBN; nbMPH: $action = trim($_GET["\x73\x74\145\x70"]); goto ZOKWV; eL7pl: exit(we7_error(434, $result)); goto lbxLS; WZ5zb: define("\x41\x50\111\x5f\x47\105\124\x5f\x50\x41\x43\113\101\107\x45\137\x4d\104\x35\x5f\101\x4e\x44\x5f\103\x48\125\116\x4b\124\117\124\101\x4c", API_HOST . "\57\x75\164\x69\154\57\160\x61\143\x6b\141\147\x65\x2f\x69\156\x73\x74\x61\x6c\154"); goto eVf4V; i5PI1: $ret["\x64\x6f\x6d"]["\146\141\151\154\x65\x64"] = true; goto zRhfF; uWFUF: define("\x41\120\111\137\x48\x4f\x53\124", "\x68\x74\164\x70\72\57\57\141\x70\151\x2e\167\x37\56\143\143"); goto x3Mbl; PipMf: $data = we7_request_api(API_GET_PACKAGE_MD5_AND_CHUNKTOTAL, array("\141\x63\x63\x65\x73\163\137\164\157\153\145\156" => $accesstoken)); goto WemaB; elyYT: wM8Xu: goto m_xHu; Mlqww: KSbUc: goto dOzpm; K90Vu: define("\101\120\111\137\x4f\x41\125\x54\x48\x5f\x41\x43\x43\105\123\123\124\x4f\113\x45\x4e", API_HOST . "\x2f\157\141\165\164\x68\x2f\x61\x63\x63\x65\x73\163\55\x74\x6f\153\x65\x6e\57\x63\157\144\145"); goto WZ5zb; hF05u: exit(we7_error(421, "\345\xae\211\350\xa3\205\xe5\x8c\205\344\xb8\x8d\345\256\214\346\x95\264\56")); goto KKHEq; qrNVr: fwrite($fh, $output); goto g_55N; mq0ia: exit; goto AGOsq; f8qql: if (!(file_exists(IA_INSTALL_ROOT . "\x2f\144\x61\x74\x61\57\151\x6e\163\x74\x61\x6c\x6c\x2e\x6c\x6f\143\153") && !in_array($action, array("\157\141\x75\x74\x68", "\x6c\157\147\151\x6e")))) { goto RaZSp; } goto r3XqO; x74Lv: qBjhF: goto uPMPM; WemaB: if (is_array($data) && isset($data["\x65\x72\x72\157\x72"])) { goto vao94; } goto t2YpD; qHKic: exit(we7_error(0, array("\164\157\164\141\x6c" => $data["\x63\150\165\x6e\153\137\164\157\164\x61\x6c"]))); goto P7E86; UrI1n: $cdn_source_file = "\x68\164\x74\160\x73\x3a\57\x2f\143\144\156\x2e\167\67\56\143\143\x2f\x64\157\167\x6e\154\x6f\141\144\x2f\151\156\163\x74\141\154\x6c\56\x7a\151\x70\77\166\75" . time(); goto O9YWj; nnDPS: $ret["\144\x61\x74\x61"]["\157\153"] = local_writeable(IA_INSTALL_ROOT . "\57\x64\141\164\x61"); goto Vn5DK; UHD2T: $registered_site = we7_getcookie("\162\145\147\151\x73\164\145\x72\x65\x64\x5f\x73\x69\164\x65"); goto bOJl7; jhTZE: $sitename_result = we7_update_sitename($sitename); goto Eo9W7; wVnNo: $ret["\x66\x6f\x70\x65\x6e"]["\x72\x65\x73\x75\x6c\x74"] = "\344\xb8\215\xe6\x94\257\xe6\214\x81\x66\157\160\145\x6e"; goto tVXcD; NXG1Q: $server = trim($_POST["\163\x65\162\x76\145\162"]); goto b2Vjl; Qv7Vk: if (feof($hostfile)) { goto wM8Xu; } goto nrgjB; l99Mw: exit(we7_error(0, array("\x74\x6f\x74\x61\x6c" => 1))); goto UANE7; P7E86: goto KgUHC; goto TUuNd; wAFKu: if (!($chunk_num > $chunk_total)) { goto QRLR4; } goto ct0Dg; Wh0gt: $i++; goto tHhdY; tCTY6: g1FZi: goto NWq8o; FRrA1: F8pCo: goto VwGjp; jBofg: if (!($action == "\x6c\157\147\151\x6e")) { goto snXKc; } goto FXTeC; NJrvt: $database_result = we7_db(); goto ejKYf; tSE04: XW1El: goto BcETo; SS8of: function we7_error($num, $message = "\163\x75\143\x63\x65\163\x73") { $num = intval($num); return json_encode(array("\x65\x72\x72\x6e\157" => $num, "\144\141\x74\141" => $message)); } goto FTAme; O9YWj: $accesstoken = we7_get_accesstoken(); goto UHD2T; UOrRH: $finished = false; goto o46c8; UYSFl: $ret["\156\145\x74\167\x6f\x72\153\x5f\145\156\x61\142\154\145\x64"]["\x72\145\163\x75\x6c\x74"] = "\xe5\xa4\x96\347\275\221\xe4\xb8\x8d\345\x8f\257\350\xae\277\351\227\xae"; goto ESfBp; pxP8_: function we7_request_api($url, $post = array()) { goto zv7bU; HcoXT: Oq7gh: goto hkylR; fNi8t: if (is_array($result)) { goto Igr1k; } goto ISMmQ; QR8xs: return $result; goto HcoXT; epsW4: wYUz6: goto rdx5m; ISMmQ: return $response["\143\x6f\x6e\164\x65\x6e\x74"]; goto etWFL; UCYTh: return array("\x65\x72\162\x6f\x72" => $response["\x63\x6f\x6e\x74\145\x6e\164"]); goto epsW4; Ortym: if (!($response["\x63\x6f\144\145"] == 401)) { goto P5Mzw; } goto y1HX1; rdx5m: $result = json_decode($response["\x63\x6f\156\x74\x65\x6e\x74"], true); goto fNi8t; y1HX1: return array("\145\162\162\x6f\x72" => 401); goto FoyPK; zv7bU: $response = we7_http_request($url, $post); goto Ortym; fSuZl: Igr1k: goto QR8xs; etWFL: goto Oq7gh; goto fSuZl; FoyPK: P5Mzw: goto M1rsy; M1rsy: if (!($response["\143\x6f\144\x65"] != 200 || isset($response["\145\x72\x72\x6e\x6f"]))) { goto wYUz6; } goto UCYTh; hkylR: } goto SS8of; JQHIS: if (!($database_result !== true)) { goto JfDF7; } goto w0WlX; p6ONu: C02s4: goto nnDPS; LMHj3: QRLR4: goto Jjim5; gxai3: header("\x4c\157\143\x61\x74\151\x6f\x6e\x3a\40" . $siteroot . "\x2f\x69\156\x73\164\141\x6c\x6c\x2e\x70\x68\x70"); goto ExNtr; J13S8: function we7_finish() { goto SscRm; t0hFU: $chunk_num = we7_getcookie("\x63\x68\x75\x6e\x6b\x5f\164\x6f\x74\x61\154"); goto f0i5y; UEWRC: @unlink(IA_INSTALL_ROOT . "\x2f\143\157\156\x73\x6f\x6c\145\x2e\x70\150\x70"); goto hXF8m; VLyrZ: return true; goto DH3JR; pz7Hr: mEBnF: goto NHGdR; Iblgq: cache_build_users_struct(); goto Vrsgh; voQ5y: load()->model("\x63\x6c\x6f\165\144"); goto zda4e; wFVAb: $_W["\165\151\x64"] = $_W["\151\163\x66\157\165\x6e\144\145\162"] = 1; goto ss1mF; XX6dv: $i++; goto BJiFS; f0i5y: @unlink("\56\57\167\x65\x37\x73\x6f\x75\x72\x63\145\56\172\x69\160"); goto IK6t5; uU3QX: require IA_INSTALL_ROOT . "\x2f\x77\x65\x62\x2f\x63\x6f\x6d\x6d\x6f\156\x2f\142\157\x6f\x74\163\x74\162\141\160\x2e\163\x79\163\x2e\x69\x6e\143\x2e\160\150\x70"; goto wFVAb; VHeWK: we7_setcookie("\x69\x6d\x73\137\146\141\x6d\151\154\x79", '', -10); goto owB0G; zda4e: setting_upgrade_version(we7_getcookie("\x69\155\163\x5f\146\x61\x6d\151\154\171"), IMS_VERSION, IMS_RELEASE_DATE); goto VHeWK; IWndd: cache_build_setting(); goto Iblgq; SscRm: global $_W; goto t0hFU; ss1mF: load()->web("\143\157\155\155\x6f\156"); goto uHRqD; NHGdR: if (!($i <= $chunk_num)) { goto kv6p1; } goto vrveA; hCPXY: kv6p1: goto jMZo7; uHRqD: load()->web("\164\x65\155\x70\x6c\141\x74\145"); goto lscbm; rVWpx: @unlink(IA_INSTALL_ROOT . "\57\143\150\141\156\x67\x65\x2e\x73\150"); goto ud0Uk; VrmSP: JdmMS: goto XX6dv; IK6t5: $i = 1; goto pz7Hr; lscbm: load()->model("\x73\x65\x74\164\151\x6e\147"); goto fU8Ay; BJiFS: goto mEBnF; goto hCPXY; owB0G: cloud_reset_siteinfo(); goto DWvxp; vrveA: @unlink("\56\x2f\143\x68\x75\156\153\x5f" . $i); goto VrmSP; Vrsgh: cache_build_module_subscribe_type(); goto VLyrZ; kHTiJ: @unlink(IA_INSTALL_ROOT . "\x2f\144\141\164\x61\x2f\144\142\x2e\x6c\157\x63\x6b"); goto UEWRC; DWvxp: cache_build_frame_menu(); goto IWndd; LfRxp: we7_setcookie("\x63\x68\165\x6e\153\x5f\164\x6f\x74\141\154", '', -10); goto MslTy; fU8Ay: load()->model("\x63\141\143\150\145"); goto voQ5y; jMZo7: we7_setcookie("\160\141\x63\x6b\141\x67\x65\137\155\x64\x35", '', -10); goto LfRxp; EJn8D: require IA_INSTALL_ROOT . "\x2f\x66\x72\x61\x6d\145\167\157\x72\x6b\57\x62\x6f\157\x74\163\x74\x72\x61\x70\x2e\151\x6e\x63\56\160\150\160"; goto uU3QX; MslTy: @unlink(IA_INSTALL_ROOT . "\57\x64\141\x74\141\57\144\142\x2e\x70\x68\160"); goto kHTiJ; hXF8m: @unlink(IA_INSTALL_ROOT . "\x2f\x69\x6e\x69\164\56\163\150"); goto rVWpx; ud0Uk: define("\111\x4e\x5f\x53\131\x53", true); goto EJn8D; DH3JR: } goto pGsoK; RigkK: if (!(is_array($data) && isset($data["\145\x72\162\x6f\162"]))) { goto o4YNQ; } goto Ydfls; qsbqK: goto qHrGc; goto ubSZ0; aV1n1: if (!($action == "\x63\150\x75\x6e\153\x74\x6f\x74\x61\154")) { goto fVsEh; } goto rtjDZ; dPJDD: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\144\x61\164\x61\x2f\x69\x6e\163\x74\141\x6c\154\x2e\x6c\x6f\143\153") && !$registered_site)) { goto GB3FI; } goto AnAGg; UZM8f: m_2XX: goto tSE04; KKHEq: tTNGM: goto Ajxku; BcETo: if (!($action == "\x69\156\x73\164\141\x6c\154")) { goto w_XgB; } goto YT1X_; TS3ce: Quip9: goto m8MYk; eiEHP: $action = "\157\x61\165\164\x68"; goto qsbqK; JHXSz: we7_handle_chunk(); goto TrMuk; ieVxp: $ret["\x66\157\160\145\x6e"]["\146\141\151\x6c\145\x64"] = true; goto uVZJO; XwwqP: if (!($action == "\145\x6e\x76\151\x72\x6f\156\155\x65\156\164")) { goto g1etz; } goto HnrC5; xlPm7: exit(we7_error(0, $chunk_num)); goto UZM8f; hF5rO: VDPvp: goto vm8kJ; Ib_GE: if (file_exists(IA_INSTALL_ROOT . "\57\x69\156\x64\x65\170\x2e\x70\150\x70") && is_dir(IA_INSTALL_ROOT . "\x2f\167\145\x62") && file_exists($verfile) && file_exists($dbfile)) { goto tTNGM; } goto hF05u; FqT4f: $data = we7_request_api(API_OAUTH_LOGIN_URL, array("\162\x65\x64\151\162\x65\143\x74" => $callback)); goto RigkK; N_06z: $verfile = IA_INSTALL_ROOT . "\x2f\146\x72\x61\x6d\145\x77\x6f\x72\x6b\x2f\166\145\162\163\x69\157\x6e\x2e\151\x6e\x63\x2e\160\150\160"; goto iP0mC; wL_ZB: $ret["\x61\x73\160\x5f\x74\x61\x67\163"]["\x72\145\163\x75\154\x74"] = "\x61\x73\160\137\164\x61\x67\x73\345\xbc\x80\xe5\220\xaf\347\x8a\266\xe6\x80\201"; goto YZUPq; DInz6: cbopf: goto M5ToB; h2YX6: foreach (we7_need_extension() as $extension) { goto Hy6df; qfw8l: SoqgE: goto CEsYx; jhYE5: $ret[$extension]["\x6e\x61\x6d\145"] = $extension . "\xe6\x89\xa9\xe5\xb1\225"; goto K6M0X; K6M0X: $ret[$extension]["\x72\145\x73\165\x6c\164"] = "\xe4\270\215\xe6\224\257\346\214\201" . $extension; goto qfw8l; LciW4: $ret[$extension]["\146\141\151\154\x65\144"] = true; goto jhYE5; Hy6df: $if_ok = extension_loaded($extension); goto Mv7P0; CEsYx: Ee2f8: goto QlAbr; Mv7P0: if ($if_ok) { goto SoqgE; } goto LciW4; QlAbr: } goto u9krq; bf2Ak: function local_salt($length = 8) { goto BJ2aa; O9tZF: $result = substr(str_shuffle($strs), mt_rand(0, strlen($strs) - ($length + 1)), $length); goto IVbQW; BJ2aa: $strs = "\x41\x42\103\104\105\x46\x47\110\x49\x4a\113\x4c\x4d\116\117\120\121\x52\123\124\x55\126\x57\x58\131\132\x61\142\x63\144\145\146\147\150\x69\152\153\154\156\155\157\160\x71\x72\x73\x74\x75\166\167\170\x79\172\60\x31\x32\x33\64\65\x36\67\70\71"; goto O9tZF; IVbQW: return $result; goto x9FwX; x9FwX: } goto ztrBm; xYu6O: we7_setcookie("\x61\143\x63\145\163\163\x74\157\153\x65\x6e", $data); goto gxai3; H3Sso: rename("\151\156\163\164\141\x6c\154\x2e\160\x68\x70", "\x69\x6e\163\164\x61\154\154\x2e\x70\x68\x70\56\x62\x61\153"); goto J2Rhz; Ox_Yh: $result = file_put_contents("\56\57\143\150\x75\x6e\153\137" . $chunk_num, $data); goto x1Wi3; GjQJu: define("\111\x41\137\x49\x4e\x53\124\x41\x4c\114\137\122\x4f\x4f\x54", str_replace("\134", "\57", dirname(__FILE__))); goto xl7Zw; iP0mC: $dbfile = IA_INSTALL_ROOT . "\x2f\144\x61\x74\141\57\x64\142\x2e\160\x68\x70"; goto Ib_GE; lCVoH: header("\143\157\156\x74\x65\156\164\x2d\x74\171\x70\145\x3a\x74\x65\x78\x74\x2f\150\164\x6d\x6c\73\x63\x68\x61\x72\x73\x65\164\x3d\x75\x74\x66\x2d\70"); goto fUnfl; bPhbX: define("\101\x50\111\x5f\117\101\x55\x54\110\x5f\122\x45\107\111\123\124\105\122\137\123\111\124\x45", API_HOST . "\x2f\x73\151\164\x65\57\x72\145\x67\151\163\x74\145\x72\x2f\151\x6e\144\x65\x78"); goto pBWKy; J2Rhz: exit(we7_error(0, "\x73\x75\143\143\x65\163\163")); goto BLJ7G; zRhfF: $ret["\x64\x6f\155"]["\156\x61\x6d\145"] = "\104\117\x4d\x44\157\x63\x75\155\145\156\x74"; goto NglN8; ZnWcQ: fwrite($fh, $output); goto eoa6i; vWYMn: iVRnC: goto TiGL1; YZUPq: lXrUr: goto wga2I; og2IG: exit(we7_error(420, $database_result)); goto nTmu0; gLowi: if (!empty($data) && $data["\163\164\141\x74\x75\x73"] == 1) { goto l4Ofu; } goto eiEHP; Jjim5: $filename = IA_INSTALL_ROOT . "\57\143\x68\x75\156\x6b\x5f" . $chunk_num; goto Rf9Xl; FbpJW: $ret["\141\154\x77\141\x79\x73\x5f\160\x6f\160\x75\x6c\141\164\145\137\x72\x61\167\137\x70\157\163\164\137\x64\x61\164\x61"]["\162\x65\x73\165\x6c\164"] = @ini_get("\141\x6c\167\x61\171\163\x5f\x70\x6f\x70\165\154\141\164\x65\137\x72\x61\167\x5f\160\x6f\163\x74\137\x64\141\164\x61"); goto XZtrr; g6lZ1: if (!($action == "\x72\x65\147\x69\163\164\145\x72\x5f\143\141\154\154\142\x61\143\153")) { goto s2kMz; } goto vDQIM; pGsoK: function we7_http_request($url, $post = array()) { goto kjlm7; tJbtB: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto rIg7J; jcQET: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); goto WY133; O745k: if ($errno || empty($data)) { goto N8P83; } goto D_fc5; xYiPX: goto kqcaj; goto vKCha; THiJZ: $error = curl_error($ch); goto m0tP0; kjlm7: $ch = curl_init(); goto b2a32; Y6bmF: curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER["\110\124\124\x50\x5f\x55\x53\x45\122\137\x41\107\105\x4e\x54"]); goto faOSB; D_fc5: return we7_http_response_parse($data); goto xYiPX; t0ow5: curl_setopt($ch, CURLOPT_TIMEOUT, 60); goto jcQET; vKCha: N8P83: goto oWvkV; leWCX: curl_setopt($ch, CURLOPT_POST, 1); goto LkBiN; WY133: curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); goto Y6bmF; UAXf_: kqcaj: goto EuPb8; oWvkV: return array("\145\x72\x72\156\157" => $errno, "\145\x72\162\x6f\162" => $error); goto UAXf_; rIg7J: @curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); goto VLQa4; vLDo6: SdTd4: goto JphGt; m0tP0: curl_close($ch); goto O745k; JphGt: curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 60); goto t0ow5; jkpYN: if (!$post) { goto SdTd4; } goto leWCX; LkBiN: curl_setopt($ch, CURLOPT_POSTFIELDS, $post); goto vLDo6; b2a32: curl_setopt($ch, CURLOPT_URL, $url); goto tJbtB; BYcoR: $errno = curl_errno($ch); goto THiJZ; faOSB: $data = curl_exec($ch); goto BYcoR; VLQa4: curl_setopt($ch, CURLOPT_HEADER, 1); goto jkpYN; EuPb8: } goto riy5b; CCJAx: GejPr: goto dqtjg; qSQyq: iLYgE: goto ZSNLN; bJ9Bi: function local_create_sql($schema, $local_create_sql) { goto y7cxh; y7cxh: $pieces = explode("\137", $schema["\143\x68\x61\x72\x73\x65\164"]); goto NajGO; Wj4lp: $sql = rtrim($sql); goto YDRPC; WABNH: rY2jB: goto pB2Pi; YDRPC: $sql = rtrim($sql, "\54"); goto j3ipz; Cd1Li: foreach ($schema["\x66\x69\x65\154\x64\163"] as $value) { goto kEZh0; brnOf: pmyqH: goto r4er5; ODs45: dVlJw: goto iRPIY; gbBGE: $increment = "\40\101\125\x54\x4f\x5f\x49\116\x43\122\x45\115\x45\116\124"; goto brnOf; Evf4l: kkjd9: goto idK4A; UBnBc: eaV39: goto kZGcE; JJ2by: $length = ''; goto b0Xsq; DnfBz: goto ps2Cy; goto u29is; KSC1I: if ($value["\151\x6e\143\162\x65\x6d\145\156\164"]) { goto QOPpc; } goto KYwIM; r_yMy: if (empty($value["\x6e\165\154\154"])) { goto eaV39; } goto tEQ2J; KYwIM: $increment = ''; goto puS_a; i_iCo: Jj3V6: goto TJuZI; u29is: mfSNX: goto n4eHn; jNZEW: goto dVlJw; goto UBnBc; OjDAL: r7mxF: goto Rj7eX; tEQ2J: $null = ''; goto jNZEW; Rj7eX: $length = "\x28{$value["\154\x65\x6e\x67\164\150"]}\x29"; goto i_iCo; TJuZI: $signed = empty($value["\163\x69\x67\x6e\145\x64"]) ? "\x20\x75\x6e\163\x69\147\x6e\x65\144" : ''; goto r_yMy; kZGcE: $null = "\40\116\x4f\x54\40\x4e\x55\x4c\x4c"; goto ODs45; h1wXY: ps2Cy: goto KSC1I; n4eHn: $default = "\x20\104\x45\x46\101\125\114\x54\40\47" . $value["\x64\145\x66\x61\x75\x6c\x74"] . "\47"; goto h1wXY; GpScs: $default = ''; goto DnfBz; r4er5: $sql .= "\140{$value["\x6e\x61\155\145"]}\140\x20{$value["\164\171\160\145"]}{$length}{$signed}{$null}{$default}{$increment}\54\xa"; goto Evf4l; iRPIY: if (isset($value["\144\145\x66\x61\165\154\x74"])) { goto mfSNX; } goto GpScs; kEZh0: if (!empty($value["\154\x65\156\x67\x74\x68"])) { goto r7mxF; } goto JJ2by; b0Xsq: goto Jj3V6; goto OjDAL; puS_a: goto pmyqH; goto aHzy6; aHzy6: QOPpc: goto gbBGE; idK4A: } goto WABNH; JGfhH: $sql = "\103\x52\x45\101\124\105\x20\x54\101\x42\114\105\40\x49\x46\x20\x4e\117\124\x20\105\x58\111\123\124\123\40\140{$schema["\164\x61\x62\154\145\156\x61\155\x65"]}\140\40\50\xa"; goto Cd1Li; pB2Pi: foreach ($schema["\151\x6e\144\x65\170\x65\x73"] as $value) { goto w5rTp; pF4eH: vI7R1: goto VmZs2; tuEX5: if (!($value["\164\171\160\x65"] == "\x70\x72\151\155\x61\x72\171")) { goto chU5N; } goto OJh4d; w5rTp: $fields = implode("\x60\54\x60", $value["\x66\151\145\154\144\163"]); goto QFImz; lnfIs: ZjtfI: goto tuEX5; FxKHC: adPQA: goto YIHX1; rQS3Y: chU5N: goto pF4eH; OJh4d: $sql .= "\120\x52\111\x4d\x41\122\x59\40\x4b\105\x59\40\x28\140{$fields}\140\51\54\xa"; goto rQS3Y; YIHX1: if (!($value["\164\x79\x70\145"] == "\x75\x6e\x69\161\165\145")) { goto ZjtfI; } goto O7sd9; O7sd9: $sql .= "\x55\116\111\121\x55\105\x20\x4b\x45\x59\x20\x60{$value["\x6e\141\155\x65"]}\140\x20\50\x60{$fields}\140\51\54\12"; goto lnfIs; QFImz: if (!($value["\164\x79\160\145"] == "\x69\156\144\145\170")) { goto adPQA; } goto TbMjQ; TbMjQ: $sql .= "\113\x45\x59\x20\140{$value["\156\141\155\x65"]}\140\40\50\x60{$fields}\140\51\54\12"; goto FxKHC; VmZs2: } goto pFYgT; pFYgT: UBC8K: goto Wj4lp; WcFNP: $engine = $local_create_sql ? $schema["\145\156\147\151\x6e\x65"] : "\115\171\x49\x53\101\115"; goto JGfhH; zw_xR: return $sql; goto xbzVr; NajGO: $charset = $pieces[0]; goto WcFNP; j3ipz: $sql .= "\12\51\40\x45\116\x47\111\x4e\105\x3d{$engine}\x20\104\105\106\101\x55\x4c\x54\40\x43\x48\x41\x52\123\x45\x54\75{$charset}\73\xa\12"; goto zw_xR; xbzVr: } goto c12K1; M5ToB: GB3FI: goto TP71L; nDWay: if (!($register_site_result !== true)) { goto cbopf; } goto fkIde; jBEfW: touch(IA_INSTALL_ROOT . "\57\144\x61\164\x61\x2f\144\142\x2e\154\157\143\x6b"); goto JgsiY; FXTeC: $sitename = trim($_POST["\x73\151\164\145\156\x61\155\145"]); goto AOtxR; s7bcD: if (!(file_exists($filename) && !empty($filesize))) { goto zkipv; } goto OSu06; XfWTd: if (!($i <= $chunk_total)) { goto uZuJC; } goto zw8tS; BW4cu: ini_set("\x64\151\163\x70\154\x61\x79\137\145\x72\x72\157\x72\x73", 0); goto C0vGO; oKV9o: we7_finish(); goto rLPVf; Yxn5W: $source_size = we7_getcookie("\x63\144\x6e\x5f\x73\x6f\165\x72\x63\145\x5f\163\151\x7a\x65"); goto BLfic; vDQIM: $post = file_get_contents("\160\150\x70\72\x2f\x2f\x69\x6e\160\165\164"); goto lKuLu; r3XqO: header("\x6c\157\143\141\164\151\x6f\x6e\72\x20\x2e\x2f\151\x6e\x64\x65\x78\56\160\x68\x70"); goto mq0ia; vNk3W: if (!(is_array($data) && isset($data["\145\162\162\x6f\162"]))) { goto DxmQq; } goto ozYGL; HnrC5: $server["\x75\x70\x6c\x6f\x61\144"] = @ini_get("\146\151\154\x65\x5f\165\160\154\x6f\141\x64\163") ? ini_get("\x75\160\154\x6f\x61\x64\x5f\155\x61\170\137\x66\x69\x6c\x65\x73\x69\172\x65") : "\x75\156\153\156\x6f\x77"; goto WYB_g; KAeCo: $ret["\x6e\x65\x74\x77\157\x72\153\137\145\156\141\x62\x6c\x65\x64"]["\146\x61\151\154\145\x64"] = true; goto SjuZI; h9e2L: avJv0: goto v9RKl; XufjN: $ret["\x64\x61\164\141"]["\x66\141\151\x6c\x65\x64"] = true; goto bsVEh; FtCyj: if (!(!empty($ret["\163\145\163\x73\x69\157\156"]["\157\x6b"]) && strtolower($ret["\163\145\x73\x73\151\157\x6e"]["\157\153"]) == "\x6f\156")) { goto X55iQ; } goto TEVVy; x3Mbl: define("\x41\x50\x49\x5f\123\x49\124\105\x5f\122\105\x47\111\x53\124\105\x52\x5f\105\130\x49\123\x54", API_HOST . "\x2f\x73\151\x74\145\x2f\162\x65\x67\x69\x73\164\x65\x72\57\x65\170\151\x73\x74"); goto goda3; VtBA1: $chunk_total = we7_getcookie("\x63\x68\165\x6e\x6b\137\x74\x6f\x74\x61\154"); goto PkbZA; aWfZ7: if (empty($result)) { goto Quip9; } goto eL7pl; Yt2Pd: $ret["\x76\145\x72\163\151\157\x6e"]["\156\x61\155\x65"] = "\x50\x48\x50\xe7\211\210\346\x9c\254"; goto UlehI; FAWCC: goto GejPr; goto xbyIH; w0WlX: exit(we7_error(419, $database_result)); goto V5Mgk; ExNtr: exit; goto FAWCC; MO8Qn: function we7_need_extension() { return array("\x7a\x69\x70", "\160\144\157", "\x70\x64\x6f\137\x6d\171\163\x71\x6c", "\x6f\x70\145\156\163\x73\154", "\147\x64", "\155\x62\x73\x74\x72\151\156\x67", "\x6d\143\x72\x79\x70\164", "\143\165\x72\154"); } goto OGlbB; F5y0I: we7_setcookie("\143\x64\x6e\x5f\x73\157\x75\162\x63\x65\137\163\x69\172\145", $source_size); goto QPlKM; ZSNLN: if (!($action == "\x6f\141\165\x74\150")) { goto GJvSE; } goto IecH7; t70xe: header("\114\157\x63\x61\x74\151\x6f\156\x3a\40" . $siteroot . "\x2f\151\156\163\x74\x61\154\x6c\x2e\x70\150\x70"); goto vnBQk; TEVVy: $ret["\163\145\x73\x73\151\157\x6e"]["\x66\x61\151\154\145\x64"] = true; goto K4iNX; A7LxI: uZuJC: goto EjiVk; FOVN9: ww0CU: goto Kcd3X; IczJ0: hSD2W: goto Ox_Yh; BLJ7G: snXKc: goto g6lZ1; O1mci: $ret["\162\x6f\x6f\164"]["\162\x65\163\x75\154\164"] = "\xe6\234\xac\345\234\260\xe7\x9b\xae\xe5\275\225\346\227\240\xe6\xb3\225\345\x86\231\xe5\205\xa5"; goto p6ONu; uVZJO: $ret["\x66\x6f\x70\x65\x6e"]["\156\141\x6d\145"] = "\x66\x6f\x70\145\156"; goto wVnNo; F0Cc7: exit(we7_error(433, "\141\x63\143\x65\163\x73\164\157\x6b\145\x6e\x20\x65\170\x70\151\x72\x65\144\x2e")); goto Hfof7; V5hUr: $chunk_num = max(1, intval($_POST["\x63\x68\x75\156\153"])); goto VtBA1; zw8tS: $chunk_i_filesize = filesize(IA_INSTALL_ROOT . "\x2f\x63\150\165\156\153\x5f" . $i); goto klUQQ; m5_14: exit(we7_error(0, "\x73\x75\x63\x63\x65\x73\163")); goto s8H3Y; Sq0a3: $hostfile = fopen($cdn_source_file, "\162\142"); goto rSAKt; TPIVM: $action = "\143\x68\145\143\153\x5f\x73\x69\164\x65"; goto yvtAe; ESS1U: if ($ret["\x66\157\x70\145\x6e"]["\x6f\153"]) { goto ldcpb; } goto ieVxp; Nymfz: function we7_upgrade() { goto Zuqej; EfxSt: define("\111\x4e\x5f\x53\x59\123", true); goto NY4gm; Zuqej: global $_W; goto EfxSt; hxQw2: if (!(!empty($packet["\163\x63\x72\x69\x70\x74\163"]) && is_array($packet["\x73\143\x72\151\x70\x74\163"]))) { goto zFSr5; } goto Pjwf7; jpip1: require IA_INSTALL_ROOT . "\57\x77\145\x62\57\x63\x6f\155\x6d\x6f\x6e\57\142\157\x6f\164\163\x74\162\141\160\x2e\163\x79\163\x2e\151\156\143\56\160\150\x70"; goto K7u1H; iNLIb: if (empty($updatefiles)) { goto Xdd0z; } goto QNz0D; Hzgig: rVZ3B: goto hxQw2; gbjT9: jHanw: goto ijmr2; NY4gm: require IA_INSTALL_ROOT . "\x2f\x66\x72\x61\155\x65\x77\x6f\162\153\57\x62\157\157\x74\163\164\x72\141\x70\x2e\151\x6e\x63\x2e\160\x68\160"; goto jpip1; K8gMR: rmdirs($updatedir, true); goto DMYQR; YETV9: $crelease = IMS_RELEASE_DATE; goto oamik; K7u1H: load()->model("\x63\x6c\157\x75\144"); goto Ju_sN; YFmAi: cTu9i: goto gbjT9; DMYQR: mkdirs($updatedir); goto LGYD6; UfHV_: $packet = cloud_build(); goto i6DBI; wecCW: return true; goto O6jjj; R1u9m: if (!(!empty($packet["\146\151\x6c\x65\x73"]) && is_array($packet["\146\x69\x6c\x65\163"]))) { goto jHanw; } goto bs0z3; i6DBI: if (!empty($packet)) { goto L6xnr; } goto Xtz6P; k9_Yq: $updatedir = IA_INSTALL_ROOT . "\57\x64\x61\x74\x61\x2f\165\160\x64\141\164\x65\x2f"; goto K8gMR; Z904G: foreach ($packet["\x73\143\x68\145\155\141\163"] as $schema) { goto G3zLD; xXinR: $local = db_table_schema(pdo(), $tablename); goto V2Ejz; V2Ejz: $sqls = db_table_fix_sql($local, $schema); goto HX0fC; tF6p3: uD9ls: goto TnaZU; G3zLD: $tablename = substr($schema["\164\141\x62\154\x65\156\141\x6d\145"], 4); goto xXinR; stFqo: JA6xg: goto tF6p3; HX0fC: foreach ($sqls as $sql) { pdo_query($sql); JqMZs: } goto stFqo; TnaZU: } goto FnUBz; YBdsY: VvG00: goto iNLIb; LGYD6: $cversion = IMS_VERSION; goto YETV9; fgi2P: L6xnr: goto R1u9m; FnUBz: oM5UK: goto Hzgig; mFk65: Xdd0z: goto ieEGg; ijmr2: if (!(!empty($packet["\163\143\150\145\155\141\x73"]) && is_array($packet["\163\143\150\x65\x6d\141\x73"]))) { goto rVZ3B; } goto Z904G; Xtz6P: return true; goto fgi2P; sSGLt: mTbRD: goto mFk65; Pjwf7: $updatefiles = array(); goto k9_Yq; bs0z3: foreach ($packet["\x66\x69\x6c\x65\x73"] as $file) { cloud_download($file, "\x66\x69\x6c\x65\163"); CXTCR: } goto YFmAi; QNz0D: foreach ($updatefiles as $file) { goto JlhZ0; Nw0Lv: cache_build_users_struct(); goto ELZlV; yFsmi: $evalret = (include $entry); goto YA7Kk; ReU0E: @unlink($entry); goto QsZs5; QsZs5: M6AbR: goto WOsW6; MnIRG: goto sQoHA; goto p7ITe; JlhZ0: if (!(!is_file($file) || !preg_match("\x2f\x5e\x75\x70\144\x61\x74\x65\134\x28\134\x64\x7b\x31\x32\x7d\134\55\134\144\173\61\62\175\134\51\134\56\160\150\x70\x24\x2f", $file))) { goto XaUWW; } goto MnIRG; WOsW6: sQoHA: goto fzICj; ELZlV: cache_build_setting(); goto ReU0E; p7ITe: XaUWW: goto yFsmi; YA7Kk: if (empty($evalret)) { goto M6AbR; } goto Nw0Lv; fzICj: } goto sSGLt; ieEGg: zFSr5: goto wecCW; oamik: foreach ($packet["\x73\143\x72\151\160\164\x73"] as $script) { goto RcQ2h; p3bI1: $updatefile = $updatedir . $fname; goto admhS; MvFsH: $script["\x73\143\162\151\160\x74"] = @base64_decode($script["\163\x63\162\x69\x70\164"]); goto wdQgT; WvoBe: cqhEZ: goto e0Zt1; YVn0e: $crelease = $script["\162\x65\x6c\145\141\163\145"]; goto MvFsH; admhS: file_put_contents($updatefile, $script["\163\143\x72\151\x70\x74"]); goto uwh2m; zFJOQ: $script["\163\x63\x72\151\160\164"] = <<<DAT
<?php
load()->model('setting');
setting_upgrade_version('{$packet["\146\x61\x6d\151\x6c\x79"]}', '{$script["\166\145\x72\x73\151\x6f\x6e"]}', '{$script["\x72\145\154\145\141\x73\x65"]}');
return true;
DAT;
goto dciSh; uwh2m: $updatefiles[] = $updatefile; goto WvoBe; RcQ2h: if (!($script["\162\145\x6c\x65\141\x73\145"] <= $crelease)) { goto TwtW_; } goto ljD_r; wdQgT: if (!empty($script["\163\x63\162\x69\160\x74"])) { goto gLMdj; } goto zFJOQ; ljD_r: goto cqhEZ; goto FD0RX; FD0RX: TwtW_: goto mpC2Y; dciSh: gLMdj: goto p3bI1; mpC2Y: $fname = "\165\160\144\141\x74\x65\x28{$crelease}\55{$script["\x72\145\x6c\x65\141\163\145"]}\x29\x2e\160\150\160"; goto YVn0e; e0Zt1: } goto YBdsY; Ju_sN: load()->func("\144\x62"); goto Aw4GC; Aw4GC: load()->func("\146\151\154\x65"); goto UfHV_; O6jjj: } goto nlc9U; eoa6i: goto LiYxo; goto x74Lv; rLPVf: if (!($sitename != $siteroot . "\xe7\232\204\xe7\253\231\347\202\xb9")) { goto ZECL5; } goto jhTZE; WYB_g: $server["\165\x70\x6c\x6f\141\x64"] = strtolower($server["\165\160\154\157\x61\x64"]); goto nsYqw; v9lFY: $ret["\x76\145\x72\163\151\x6f\156"]["\x66\x61\151\154\145\x64"] = true; goto Yt2Pd; x1Wi3: if ($result) { goto y8vTN; } goto d3VG1; OkKLP: function we7_update_user($username, $password) { goto GC6Pc; D2tuR: $session = install_authcode(json_encode($cookie), "\x65\156\143\x6f\144\x65", $_W["\143\157\x6e\x66\151\x67"]["\163\145\164\x74\x69\156\147"]["\141\x75\x74\x68\153\x65\171"]); goto HdEAr; GC6Pc: global $_W, $is_https; goto OL7z3; Dkean: $password = user_hash($password, $userinfo["\x73\x61\x6c\164"]); goto OcqlP; gAq5U: $cookie = array("\154\141\x73\x74\x76\x69\163\x69\164" => '', "\x6c\x61\163\x74\x69\x70" => ''); goto n22tD; cK9Eq: $cookie["\x68\141\x73\x68"] = md5($password . $userinfo["\163\x61\154\164"]); goto D2tuR; n22tD: $cookie["\x75\x69\144"] = $userinfo["\165\151\144"]; goto cK9Eq; OL7z3: load()->model("\x75\163\145\x72"); goto How3a; How3a: $userinfo = pdo_get("\x75\163\x65\162\163", array("\x75\x73\145\162\156\x61\x6d\145" => "\x61\x64\155\151\156")); goto Dkean; yQqy2: return $result ? true : false; goto jo31u; OcqlP: $result = pdo_update("\165\163\145\162\163", array("\165\x73\145\162\x6e\x61\155\x65" => $username, "\160\141\163\x73\167\157\162\144" => $password), array("\x75\x69\x64" => $userinfo["\x75\x69\144"])); goto gAq5U; HdEAr: $secure = $is_https ? 1 : 0; goto JFDMi; JFDMi: setcookie($_W["\x63\157\156\x66\151\x67"]["\x63\157\x6f\153\x69\x65"]["\x70\162\145"] . "\137\137\x73\x65\x73\163\x69\157\156", $session, 0, "\57", '', $secure, true); goto yQqy2; jo31u: } goto J13S8; BP0tN: function we7_network_enable($host) { goto xx668; eYE2V: $if_local_network172 = preg_match("\x2f\136\61\x37\62\134\x2e\x28\61\x5b\x36\55\x39\135\174\x32\133\x30\x2d\x39\x5d\174\63\x5b\x30\55\61\135\x29\134\56\x28\x31\x5c\x64\173\x32\x7d\x7c\x32\x5b\60\x2d\64\135\134\144\x7c\62\x35\133\x30\55\65\x5d\x7c\133\x31\55\71\x5d\x5c\144\174\134\144\x29\x5c\56\x28\x31\134\x64\173\62\x7d\x7c\62\x5b\60\55\x34\135\x5c\144\174\62\65\133\60\55\65\x5d\x7c\x5b\x31\x2d\x39\x5d\x5c\144\174\x5c\x64\51\44\57", $host); goto iNjmm; qL4Dx: return true; goto Ej0Jy; f_tnP: if (!$if_local_network192) { goto yXLCH; } goto JGQKZ; aaJBZ: return false; goto OB9Tx; V7LHi: $if_local_network10 = preg_match("\x2f\136\61\x30\134\x2e\50\x31\134\x64\x7b\62\x7d\x7c\x32\133\x30\x2d\64\x5d\134\x64\x7c\62\65\133\60\x2d\x35\135\174\133\x31\x2d\71\x5d\x5c\x64\174\134\x64\51\134\56\50\61\x5c\144\x7b\x32\x7d\x7c\62\x5b\x30\55\64\x5d\134\144\x7c\62\65\133\x30\x2d\65\x5d\x7c\133\x31\x2d\71\135\134\144\174\134\x64\51\x5c\x2e\x28\61\x5c\144\x7b\x32\x7d\174\x32\x5b\60\55\x34\135\x5c\144\x7c\x32\x35\x5b\x30\x2d\x35\135\174\x5b\x31\55\x39\135\134\144\x7c\x5c\x64\x29\x24\57", $host); goto moVhx; AjnYz: yXLCH: goto fzx46; SbU8R: if (!(empty($dns_record) || empty($dns_record[0]["\x69\x70"]) || $dns[0]["\x69\x70"] == "\61\62\x37\x2e\60\x2e\60\56\61")) { goto wJYxJ; } goto LifLB; BWJ_B: return false; goto SZ5nT; LifLB: return false; goto vttqP; OB9Tx: DOUXp: goto tH5R8; fzx46: L3K2B: goto qL4Dx; Jlvk1: goto L3K2B; goto rIaBt; tH5R8: $if_local_network192 = preg_match("\x2f\x5e\61\71\62\134\x2e\x31\x36\x38\134\56\50\x31\134\144\x7b\62\175\x7c\62\x5b\x30\55\x34\x5d\x5c\x64\x7c\62\x35\133\60\55\65\135\174\x5b\61\55\x39\135\134\x64\174\x5c\144\x29\134\x2e\x28\x31\134\x64\x7b\x32\x7d\174\62\133\60\x2d\x34\x5d\x5c\x64\174\62\65\133\x30\x2d\65\x5d\x7c\x5b\x31\x2d\x39\x5d\x5c\x64\x7c\x5c\144\51\x24\x2f", $host); goto f_tnP; moVhx: if (!$if_local_network10) { goto AVyT0; } goto tqxhJ; SZ5nT: S7AVu: goto AsV2e; iNjmm: if (!$if_local_network172) { goto DOUXp; } goto aaJBZ; vGfxl: AVyT0: goto eYE2V; XKR1l: if ($httphost_is_ip) { goto urVwA; } goto q7GB1; JGQKZ: return false; goto AjnYz; AsV2e: $httphost_is_ip = preg_match("\x2f\136\50\x31\134\x64\173\x32\x7d\174\x32\133\x30\x2d\x34\135\134\144\174\62\65\x5b\x30\55\x35\x5d\174\x5b\61\55\x39\135\x5c\144\174\x5b\61\x2d\x39\x5d\x29\134\x2e\x28\x31\134\144\x7b\62\x7d\174\62\x5b\x30\x2d\x34\135\134\144\174\62\65\133\x30\55\65\x5d\174\x5b\61\x2d\x39\135\134\144\174\x5c\x64\51\x5c\56\50\x31\134\x64\x7b\x32\x7d\x7c\62\x5b\x30\55\x34\x5d\134\x64\x7c\62\65\x5b\60\x2d\65\x5d\x7c\x5b\61\55\x39\135\134\x64\x7c\134\x64\51\134\x2e\50\61\x5c\144\x7b\62\x7d\x7c\62\133\x30\x2d\x34\x5d\134\x64\174\x32\65\133\60\55\x35\x5d\x7c\x5b\61\55\x39\x5d\134\x64\x7c\x5c\x64\x29\44\x2f", $host); goto XKR1l; xx668: if (!empty($host)) { goto S7AVu; } goto BWJ_B; vttqP: wJYxJ: goto Jlvk1; q7GB1: $dns_record = dns_get_record($host, DNS_A); goto SbU8R; rIaBt: urVwA: goto V7LHi; tqxhJ: return false; goto vGfxl; Ej0Jy: } goto MO8Qn; FOYkC: function local_writeable($dir) { goto NINqW; At0jV: unlink("{$dir}\57\x74\x65\x73\x74\56\x74\x78\x74"); goto TKdtg; z4LiH: KlCSJ: goto hPG9U; zb89h: qOGMe: goto z4LiH; b_tMY: WvTrF: goto W_jib; Y1S5g: @mkdir($dir, 0777); goto nDqEJ; hPG9U: return $writeable; goto JeckZ; GNB7E: if ($fp = fopen("{$dir}\x2f\x74\145\163\x74\x2e\x74\x78\x74", "\x77")) { goto WvTrF; } goto UkrKw; W_jib: fclose($fp); goto At0jV; NINqW: $writeable = 0; goto Z1bus; z9Spz: if (!is_dir($dir)) { goto KlCSJ; } goto GNB7E; TKdtg: $writeable = 1; goto zb89h; Z1bus: if (is_dir($dir)) { goto yqvwc; } goto Y1S5g; UkrKw: $writeable = 0; goto mbnHE; nDqEJ: yqvwc: goto z9Spz; mbnHE: goto qOGMe; goto b_tMY; JeckZ: } goto bf2Ak; BLfic: if (!empty($source_size)) { goto XnYwY; } goto HJyYf; Vn5DK: if ($ret["\x64\x61\x74\x61"]["\x6f\x6b"]) { goto Ba9Gp; } goto XufjN; dVRGo: $finished = true; goto rfzBz; Jnqlx: kvLnD: goto Lvk_p; NtO6K: set_time_limit(0); goto eiKiu; JLR2R: $data = we7_request_api(API_OAUTH_ACCESSTOKEN, array("\143\157\x64\145" => $code)); goto u0w2e; s8H3Y: w_XgB: goto jBofg; Ajxku: if (file_exists(IA_INSTALL_ROOT . "\57\144\x61\164\141\x2f\x64\x62\56\x6c\x6f\143\153")) { goto xBubi; } goto NJrvt; vdEwK: exit(we7_error(400, "\346\x95\260\xe6\x8d\256\351\224\231\xe8\257\257\56")); goto njT7z; XZtrr: $ret["\x61\154\x77\141\171\x73\137\160\157\x70\165\x6c\141\x74\145\137\162\x61\x77\137\160\x6f\163\164\137\x64\141\164\141"]["\150\x61\156\x64\154\145"] = "\x68\164\x74\x70\x73\72\x2f\x2f\x62\142\x73\56\x77\x37\56\143\x63\x2f\x74\150\x72\x65\141\144\55\63\63\61\x34\x38\55\61\x2d\61\x2e\150\x74\x6d\x6c"; goto h9e2L; d3VG1: exit(we7_error(400, $chunk_num)); goto vvEiu; Lytds: $ret["\146\x6f\160\145\156"]["\157\153"] = @ini_get("\141\x6c\154\x6f\x77\x5f\165\x72\154\x5f\x66\157\x70\x65\x6e") && function_exists("\146\163\x6f\x63\x6b\157\160\x65\156"); goto ESS1U; MpfnF: if (!($action == "\143\x68\145\143\153\137\163\151\164\145")) { goto iLYgE; } goto OE_Yv; UlehI: $ret["\166\145\162\x73\151\x6f\156"]["\x72\x65\163\x75\x6c\x74"] = PHP_VERSION; goto aFmqI; bOJl7: if (!(empty($accesstoken) && !$registered_site && $action != "\162\x65\x67\151\x73\164\145\x72\137\x63\x61\154\154\142\x61\143\153")) { goto zRT_5; } goto TPIVM; jUTcJ: header("\x4c\x6f\x63\x61\x74\151\157\156\72\x20" . $forward); goto R2tqr; wr0zv: Ba9Gp: goto h2YX6; GfUzP: $ret["\141\154\167\x61\x79\x73\137\160\x6f\x70\x75\x6c\x61\164\x65\137\162\x61\x77\137\160\157\163\x74\x5f\144\x61\x74\141"]["\x6e\x61\x6d\x65"] = "\141\154\167\x61\x79\163\x5f\x70\157\x70\165\x6c\141\164\145\x5f\162\141\x77\137\x70\x6f\163\x74\x5f\x64\x61\x74\x61\xe9\x85\215\xe7\xbd\xae"; goto FbpJW; pNVtU: if ($ret["\x72\x6f\x6f\164"]["\x6f\153"]) { goto C02s4; } goto eB9rj; IDQIe: lVnna: goto DfW_9; HOBeD: o4YNQ: goto LNpQe; m2C4O: $database_result = we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix); goto JQHIS; HOtVa: $db_name = trim($_POST["\156\x61\155\145"]); goto ocW6t; KAqGO: QMuAg: goto F0Cc7; nlc9U: function we7_update_sitename($sitename) { goto wJmbQ; bI20M: return $data["\145\x72\162\x6f\162"]; goto XMgkd; yCpOY: if (!(empty($site_info["\163\151\164\x65"]) || empty($site_info["\163\151\x74\145"]["\x6b\x65\171"]))) { goto RCpf9; } goto fxYei; nQ7Gc: YokWy: goto bI20M; LOeQY: RCpf9: goto b6ZAK; zyASZ: if (is_array($data) && isset($data["\145\162\x72\x6f\162"])) { goto YokWy; } goto fGuWX; Kx6GP: $site_info = setting_load("\163\151\164\x65"); goto yCpOY; fGuWX: return true; goto HMmdr; HMmdr: goto FFagt; goto nQ7Gc; b6ZAK: $data = we7_request_api(API_UPDATE_SITENAME, array("\x61\143\x63\145\163\x73\x5f\x74\157\x6b\x65\156" => $accesstoken, "\163\x69\x74\x65\x5f\x6e\141\x6d\x65" => $sitename, "\x73\x69\164\x65\137\153\x65\x79" => $site_info["\163\x69\x74\145"]["\x6b\x65\x79"])); goto zyASZ; fxYei: return "\xe7\253\231\347\x82\xb9\344\277\xa1\346\x81\257\344\xb8\215\xe5\255\x98\xe5\x9c\xa8\xef\xbc\214\xe8\257\xb7\xe9\x87\x8d\xe6\x96\xb0\xe6\263\250\345\206\214\xe7\253\231\347\x82\xb9\x2e"; goto LOeQY; wJmbQ: global $accesstoken, $_W; goto Kx6GP; XMgkd: FFagt: goto Hk1qg; Hk1qg: } goto OkKLP; ts9TJ: $post = array("\x61\143\143\145\x73\163\137\x74\x6f\x6b\145\156" => $accesstoken, "\x63\150\x75\x6e\153" => $chunk_num); goto CM9Cq; fUnfl: echo "\x3c\x21\x64\157\143\x74\171\x70\145\x20\x68\164\155\154\x3e\xd\12\x3c\x68\x74\x6d\x6c\x20\x6c\x61\156\x67\75\42\x65\156\x22\76\xd\xa\x3c\150\145\x61\x64\x3e\xd\12\x20\40\74\x6d\x65\164\141\x20\x63\x68\141\x72\x73\145\164\x3d\42\165\x74\146\55\70\42\x3e\15\12\x20\x20\74\x74\x69\x74\154\x65\76\127\145\x37\111\156\x73\x74\x61\154\154\74\x2f\x74\151\x74\154\145\76\xd\xa\40\40\74\142\x61\163\145\x20\150\162\145\146\75\x22" . $sitepath . "\x2f\151\156\163\x74\x61\154\154\56\x70\150\160\42\x3e\15\12\15\xa\40\x20\74\x6d\x65\x74\141\x20\156\x61\x6d\x65\x3d\42\x76\151\x65\167\160\x6f\x72\164\42\40\x63\157\156\164\145\x6e\164\75\x22\167\x69\x64\164\x68\x3d\x64\x65\x76\x69\143\x65\55\167\151\144\164\150\54\40\151\156\x69\x74\x69\x61\154\55\163\143\x61\x6c\x65\75\61\42\x3e\xd\xa\x20\x20\x3c\154\151\156\153\x20\x72\145\154\x3d\x22\x69\143\157\x6e\x22\40\x74\x79\160\x65\75\42\x69\x6d\x61\x67\145\x2f\x78\x2d\x69\143\x6f\156\x22\40\x68\162\145\146\75\x2f\57\143\x64\x6e\x2e\167\67\56\143\x63\57\x77\145\67\55\x69\156\163\164\x61\154\x6c\57\x66\141\x76\x69\143\x6f\156\56\151\143\x6f\42\76\xd\12\74\154\x69\x6e\x6b\40\162\145\x6c\x3d\42\x73\164\x79\x6c\x65\163\x68\x65\145\164\x22\40\150\x72\x65\146\x3d\42\57\57\x63\144\x6e\56\x77\67\x2e\143\x63\x2f\167\x65\x37\x2d\151\x6e\163\x74\141\x6c\x6c\x2f\x74\145\x73\x74\x2f\163\164\171\x6c\145\x73\x2e\143\163\x73\x3f\166\x3d" . time() . "\x22\76\74\x2f\x68\x65\141\x64\76\15\12\x3c\x62\x6f\144\x79\x3e\xd\12\x20\40\74\x61\160\160\x2d\162\157\x6f\x74\76\x3c\x2f\x61\160\160\55\x72\x6f\157\x74\76\15\12\74\163\x63\x72\x69\x70\164\x20\164\171\x70\145\75\42\x74\x65\x78\164\x2f\152\x61\166\141\x73\x63\162\x69\160\164\x22\40\163\162\143\x3d\42\x2f\57\143\144\x6e\56\167\x37\56\143\143\x2f\x77\145\x37\x2d\151\156\x73\164\x61\x6c\x6c\57\x74\145\163\164\x2f\162\x75\x6e\164\151\155\x65\56\152\x73\77\x76\x3d" . time() . "\42\x3e\74\x2f\163\143\162\151\160\x74\76\74\x73\143\162\151\160\164\x20\x74\x79\x70\x65\75\42\164\x65\x78\164\x2f\152\141\x76\141\163\143\162\x69\160\x74\42\40\163\x72\143\x3d\42\57\57\x63\x64\156\x2e\x77\67\56\143\x63\x2f\167\x65\67\55\x69\x6e\x73\x74\141\x6c\154\57\164\145\163\x74\57\x70\157\154\x79\146\x69\154\154\x73\56\152\x73\77\x76\x3d" . time() . "\x22\76\x3c\x2f\163\x63\162\151\160\164\76\74\x73\143\162\x69\160\x74\40\x74\x79\x70\x65\75\x22\x74\x65\170\164\57\152\x61\166\x61\163\x63\x72\x69\x70\164\x22\40\163\x72\143\x3d\42\x2f\x2f\x63\144\156\56\x77\x37\x2e\143\143\x2f\167\145\x37\x2d\x69\x6e\163\164\141\x6c\154\57\x74\x65\x73\x74\57\155\x61\151\156\x2e\152\163\77\x76\75" . time() . "\42\x3e\x3c\x2f\x73\143\x72\151\160\x74\x3e\74\x2f\142\157\144\x79\76\xd\xa\74\x2f\x68\x74\155\154\x3e"; goto FOYkC; akF1a: $ret["\165\160\154\157\x61\144"]["\x6e\x61\x6d\x65"] = "\344\270\212\xe4\274\240\351\x99\x90\345\210\266"; goto Do2U1; OSu06: exit(we7_error(0, $chunk_num)); goto iZvCx; CNZ42: exit(we7_error(432, "\xe8\xaf\xb7\345\205\210\xe8\216\267\xe5\x8f\x96\345\x88\206\xe5\215\267\346\200\xbb\351\207\x8f\x2e")); goto FRrA1; LWh_2: $sitepath = substr($_SERVER["\120\110\120\137\x53\105\x4c\106"], 0, strrpos($_SERVER["\x50\x48\x50\137\123\105\x4c\x46"], "\x2f")); goto HOi08; TrMuk: WHj3A: goto Zmbau; mPReN: LAVTN: goto vdEwK; Kcd3X: $ret["\163\x65\163\163\x69\x6f\156"]["\157\153"] = ini_get("\163\x65\x73\163\x69\x6f\156\x2e\141\165\164\x6f\137\163\x74\x61\x72\x74"); goto FtCyj; dOzpm: if (!(version_compare(PHP_VERSION, "\x35\56\x33\x2e\60") == -1)) { goto IEqwi; } goto v9lFY; nsYqw: if (!($server["\x75\x70\154\157\x61\144"] == "\165\156\153\156\x6f\x77" || !strstr($server["\x75\x70\x6c\x6f\141\144"], "\x6d"))) { goto KSbUc; } goto QyEq1; nmE_5: $ret["\141\x6c\167\x61\x79\163\137\x70\157\160\165\x6c\x61\164\x65\137\x72\x61\167\137\x70\157\x73\x74\x5f\144\141\x74\x61"]["\146\x61\151\x6c\x65\144"] = @ini_get("\x61\x6c\x77\x61\x79\x73\137\160\x6f\x70\165\x6c\141\164\x65\x5f\162\x61\167\137\x70\157\x73\164\137\144\x61\x74\x61") != "\55\x31"; goto GfUzP; ESfBp: SSwQj: goto Lytds; NWq8o: goto WHj3A; goto i0Fh3; tVXcD: ldcpb: goto u8CGc; rfzBz: $i = 1; goto BaB90; riy5b: function we7_http_response_parse($data) { goto hiVur; hiVur: $rlt = array(); goto qiQ0c; y5372: return $rlt; goto Fyi5J; d2JLn: $rlt["\143\x6f\156\x74\145\x6e\164"] = $split1[1]; goto D52LL; pFToy: $rlt["\x73\164\x61\x74\165\x73"] = !empty($matches[3]) ? $matches[3] : "\x4f\x4b"; goto Mx3pu; QiNHV: $header = explode("\15\xa", $split2[1]); goto XKaOm; mBx8D: $split2 = explode("\15\12", $split1[0], 2); goto qi4Ac; V8Wkk: $rlt["\x63\157\144\x65"] = !empty($matches[2]) ? $matches[2] : 200; goto pFToy; qi4Ac: preg_match("\x2f\136\x28\x5c\123\53\x29\x20\50\x5c\x53\53\x29\40\50\56\x2a\51\44\57", $split2[0], $matches); goto V8Wkk; D52LL: if (!($isgzip && function_exists("\x67\172\x64\x65\143\157\144\x65"))) { goto YsdTT; } goto Ka9ow; gowcY: $rlt["\x6d\145\x74\x61"] = $data; goto TIWo8; Qe87s: YsdTT: goto gowcY; TIWo8: if (!($rlt["\143\157\144\x65"] == "\x31\60\60")) { goto hSwnZ; } goto e0PqQ; jyBc_: $split1[1] = substr($data, $pos + 4, strlen($data)); goto mBx8D; X3M6n: hSwnZ: goto y5372; XKaOm: $isgzip = false; goto dsf_s; qiQ0c: $pos = strpos($data, "\xd\12\15\xa"); goto p9TQp; p9TQp: $split1[0] = substr($data, 0, $pos); goto jyBc_; Ka9ow: $rlt["\143\157\x6e\164\145\156\x74"] = gzdecode($rlt["\x63\x6f\x6e\164\x65\156\x74"]); goto Qe87s; LJO9j: GSyI5: goto d2JLn; Mx3pu: $rlt["\x72\x65\x73\x70\157\x6e\163\x65\154\x69\x6e\x65"] = !empty($split2[0]) ? $split2[0] : ''; goto QiNHV; e0PqQ: return we7_http_response_parse($rlt["\x63\x6f\x6e\x74\x65\156\164"]); goto X3M6n; dsf_s: foreach ($header as $v) { goto TKi9g; pfpEV: $isgzip = true; goto m54xT; Rs2NA: goto RZE0y; goto nBvSu; R6iMH: if (!empty($rlt["\150\145\x61\144\145\x72\x73"][$key])) { goto hWe7A; } goto xXb5M; NZC4J: unset($rlt["\x68\x65\x61\x64\x65\x72\x73"][$key]); goto TA76t; nBvSu: hWe7A: goto hZwwN; xXb5M: $rlt["\x68\145\141\x64\145\162\x73"][$key] = $value; goto SNJjU; qQSEK: dk4oQ: goto Y_VaK; yaDB3: $rlt["\150\145\141\144\x65\x72\x73"][$key][] = $value; goto Rs2NA; TKi9g: $pos = strpos($v, "\x3a"); goto iA0Vy; SNJjU: goto RZE0y; goto kpvXt; iA0Vy: $key = substr($v, 0, $pos); goto zDgCE; UVEFR: if (is_array($rlt["\x68\x65\141\x64\145\x72\163"][$key])) { goto VowAp; } goto R6iMH; TA76t: $rlt["\150\x65\x61\x64\145\x72\x73"][$key][] = $temp; goto gFklS; gFklS: $rlt["\150\145\x61\x64\x65\162\x73"][$key][] = $value; goto K7rMK; m54xT: Janxr: goto qQSEK; kpvXt: VowAp: goto yaDB3; zDgCE: $value = trim(substr($v, $pos + 1)); goto UVEFR; yDed9: if (!(!$isgzip && strtolower($key) == "\143\157\156\164\145\156\x74\x2d\x65\x6e\143\x6f\x64\151\x6e\x67" && strtolower($value) == "\147\x7a\151\160")) { goto Janxr; } goto pfpEV; K7rMK: RZE0y: goto yDed9; hZwwN: $temp = $rlt["\150\x65\x61\144\145\x72\163"][$key]; goto NZC4J; Y_VaK: } goto LJO9j; Fyi5J: } goto pxP8_; nrgjB: $output = fread($hostfile, 8192); goto qrNVr; pdVBN: xlS4A: goto nMpkG; LrUme: function we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix) { goto FLt_s; DUXd7: $config = str_replace(array("\x7b\x64\x62\x2d\163\145\x72\x76\145\x72\x7d", "\x7b\x64\x62\x2d\x75\x73\x65\162\x6e\141\x6d\x65\x7d", "\173\x64\142\x2d\x70\141\163\x73\167\157\162\x64\x7d", "\173\x64\x62\55\x70\x6f\x72\164\x7d", "\173\144\142\x2d\x6e\x61\155\145\x7d", "\173\x64\x62\x2d\x74\x61\142\154\x65\x70\162\x65\x7d", "\173\x63\157\157\153\151\145\160\x72\x65\175", "\x7b\x61\x75\x74\150\x6b\145\x79\x7d", "\173\x61\x74\x74\141\143\x68\x64\151\x72\x7d"), array($db["\163\x65\x72\x76\145\x72"], $db["\x75\163\145\x72\156\x61\155\145"], $db["\x70\141\x73\163\x77\157\162\144"], $db["\x70\157\x72\x74"], $db["\x6e\141\x6d\145"], $db["\x70\x72\145\146\151\x78"], $cookiepre, $authkey, "\x61\164\x74\x61\143\x68\155\x65\x6e\164"), $config); goto ldqcW; mBj_W: $authkey = local_salt(8); goto DUXd7; QIylP: return $error; goto o0fZM; REzVE: try { goto yiTDi; DG9iN: $statement = $link->query("\123\110\x4f\127\x20\124\101\102\114\x45\x53\x20\x4c\111\x4b\x45\40\47{$db["\160\162\145\146\x69\170"]}\45\47\x3b"); goto QPtgo; M74lW: twbOY: goto K3FCk; HtXHL: fQfMj: goto RcWte; h86nn: OniVy: goto In87q; T2BDD: $statement = $link->query("\123\x48\117\127\x20\104\x41\124\x41\x42\x41\x53\105\x53\40\114\x49\x4b\x45\x20\47{$db["\156\141\155\x65"]}\x27\x3b"); goto IIAE7; Ohjqg: if (!empty($fetch)) { goto uFSiD; } goto AuUA0; In87q: $errorInfo = $link->errorInfo(); goto SuHO1; iIeb1: qw7AI: goto g6FJW; NAw0o: $errorInfo = $link->errorInfo(); goto SsTS1; g6FJW: uFSiD: goto Vn9el; N2SI9: $link->exec("\123\105\x54\x20\143\150\x61\x72\141\143\x74\x65\162\x5f\x73\145\x74\x5f\x63\157\x6e\156\x65\x63\x74\x69\157\x6e\75\165\x74\x66\x38\x2c\40\x63\150\141\162\141\143\164\x65\x72\x5f\163\x65\x74\x5f\x72\145\163\x75\x6c\164\x73\75\165\x74\x66\x38\54\x20\143\x68\141\162\141\x63\x74\145\x72\137\163\145\x74\137\143\154\151\145\x6e\x74\x3d\142\x69\156\x61\162\x79"); goto oHqaJ; uX_g3: $error .= "\xe6\x95\xb0\xe6\215\xae\xe5\xba\x93\344\xb8\x8d\xe5\255\x98\345\x9c\250\344\xb8\x94\345\x88\x9b\xe5\273\xba\346\225\xb0\xe6\215\256\xe5\xba\x93\xe5\xa4\xb1\350\xb4\245\x2e"; goto HtXHL; Vn9el: $statement = $link->query("\x53\x48\117\127\x20\104\101\x54\101\102\101\123\105\x53\40\114\111\113\105\40\47{$db["\156\141\x6d\145"]}\x27\73"); goto wKgom; PUerG: U6mEM: goto Kd901; aiTyj: $link->query("\x43\122\105\x41\x54\x45\40\x44\x41\124\101\x42\101\x53\x45\x20\x49\106\40\x4e\x4f\x54\40\105\x58\111\123\124\x53\40\140{$db["\x6e\x61\x6d\145"]}\x60"); goto AeNrq; EbExa: if ($link->errorCode() != "\x30\x30\x30\60\60") { goto OniVy; } goto T2BDD; yiTDi: $link = new PDO("\x6d\171\x73\x71\154\72\x68\x6f\x73\164\75{$db["\x73\x65\162\x76\145\x72"]}\73\160\x6f\162\164\75{$db["\160\157\162\x74"]}", $db["\x75\163\145\x72\156\141\155\x65"], $db["\160\141\163\163\x77\157\x72\144"]); goto N2SI9; SuHO1: $error = $errorInfo[2]; goto PUerG; HtfA1: goto U6mEM; goto h86nn; SsTS1: $error .= $errorInfo[2]; goto uYRS0; QPtgo: if (!$statement->fetch()) { goto CXjNF; } goto NDUMe; TTVXH: CXjNF: goto I23dP; NDUMe: return "\xe6\202\250\347\x9a\204\xe6\x95\260\346\x8d\256\345\272\223\344\270\215\344\270\xba\xe7\251\xba\xef\xbc\x8c\350\xaf\xb7\xe9\207\x8d\346\x96\260\345\xbb\xba\xe7\xab\x8b\346\225\xb0\xe6\x8d\xae\xe5\xba\x93\346\210\226\346\230\xaf\xe6\xb8\205\xe7\xa9\272\xe8\xaf\245\346\225\260\346\215\256\xe5\xba\223\xe6\210\226\xe6\x9b\xb4\xe6\224\xb9\xe8\xa1\250\xe5\x89\x8d\347\xbc\200\xef\xbc\x81"; goto TTVXH; K3FCk: $link->query("\103\122\105\x41\x54\x45\40\104\101\x54\x41\102\x41\x53\105\40\x49\x46\40\116\x4f\x54\40\x45\x58\x49\123\124\x53\40\x60{$db["\x6e\x61\x6d\x65"]}\140\x20\104\x45\106\101\x55\114\124\x20\103\110\101\122\x41\103\x54\105\x52\x20\x53\105\124\40\x75\164\x66\x38"); goto iIeb1; AuUA0: if (substr($link->getAttribute(PDO::ATTR_SERVER_VERSION), 0, 3) > "\x34\56\x31") { goto twbOY; } goto aiTyj; OHAhd: if (!empty($fetch)) { goto fQfMj; } goto uX_g3; Kd901: $link->exec("\x55\x53\x45\x20{$db["\156\x61\155\x65"]}"); goto DG9iN; IIAE7: $fetch = $statement->fetch(); goto Ohjqg; RcWte: if (!($link->errorCode() != "\60\60\x30\60\x30")) { goto rxPCE; } goto NAw0o; uYRS0: rxPCE: goto HtfA1; oHqaJ: $link->exec("\x53\x45\124\x20\x73\x71\x6c\137\155\x6f\x64\145\75\47\47"); goto EbExa; wKgom: $fetch = $statement->fetch(); goto OHAhd; AeNrq: goto qw7AI; goto M74lW; I23dP: } catch (PDOException $e) { goto xtyVd; Ue_Wz: goto amlIU; goto ucYR4; xtyVd: $error = $e->getMessage(); goto h1kM2; LJ4pH: $error = "\xe6\x82\xa8\xe7\x9a\x84\xe6\225\xb0\xe6\215\256\345\272\223\350\256\277\xe9\227\256\xe7\224\xa8\346\210\xb7\xe5\220\215\xe6\x88\x96\346\x98\257\345\xaf\206\347\240\x81\351\224\x99\350\257\257\x2e"; goto NDbr_; h1kM2: if (strpos($error, "\101\143\143\145\x73\x73\40\144\x65\x6e\x69\x65\144\40\146\157\x72\40\165\163\145\x72") !== false) { goto uTdGd; } goto NRwh2; NRwh2: $error = iconv("\147\x62\153", "\165\164\146\x38", $error); goto Ue_Wz; ucYR4: uTdGd: goto LJ4pH; NDbr_: amlIU: goto wrKaY; wrKaY: } goto o1qRA; FdfPP: return $result !== false ? true : false; goto IuaAF; FLt_s: if (!(empty($server) || empty($db_username) || empty($db_password) || empty($db_name))) { goto tjdzQ; } goto dFNui; RRQWB: $pieces = explode("\72", $server); goto KykVk; dFNui: return false; goto j7PNz; j7PNz: tjdzQ: goto RRQWB; o1qRA: if (empty($error)) { goto o4DgZ; } goto QIylP; c987r: $config = local_config(); goto FfQe8; FfQe8: $cookiepre = local_salt(4) . "\x5f"; goto mBj_W; KykVk: $db = array("\x73\145\x72\166\145\x72" => $pieces[0] == "\61\x32\67\56\60\x2e\x30\x2e\x31" ? "\x6c\157\x63\x61\x6c\x68\x6f\163\x74" : $pieces[0], "\160\x6f\x72\x74" => !empty($pieces[1]) ? $pieces[1] : "\x33\x33\x30\x36", "\165\163\x65\x72\x6e\141\155\x65" => $db_username, "\x70\x61\163\x73\x77\157\162\144" => $db_password, "\160\162\145\x66\151\170" => $db_prefix, "\x6e\141\x6d\x65" => $db_name); goto REzVE; w0EJf: $result = file_put_contents(IA_INSTALL_ROOT . "\57\144\141\164\x61\57\x63\157\x6e\x66\x69\147\x2e\x70\150\x70", $config); goto FdfPP; o0fZM: o4DgZ: goto c987r; ldqcW: local_mkdirs(IA_INSTALL_ROOT . "\57\x64\x61\164\141"); goto w0EJf; IuaAF: } goto TlqMs; gZXaI: we7_setcookie("\x72\x65\x67\151\x73\164\145\162\x65\x64\x5f\x73\151\x74\x65", 1); goto P31RV; pXLwi: $db_password = trim($_POST["\160\141\x73\163\167\157\x72\144"]); goto HOtVa; YJYzF: goto vK2oI; goto KAqGO; JpcM0: $siteroot = htmlspecialchars(($is_https ? "\150\x74\x74\x70\163\72\57\57" : "\x68\x74\x74\x70\x3a\57\57") . (isset($_SERVER["\x48\124\124\120\x5f\110\117\x53\x54"]) ? $_SERVER["\x48\124\x54\x50\x5f\110\117\x53\124"] : '') . $sitepath); goto UrI1n; mWGd4: $ret["\141\x73\x70\137\164\x61\x67\x73"]["\156\x61\x6d\x65"] = "\x61\x73\x70\137\x74\141\x67\x73"; goto wL_ZB; VWOYg: uGyl9: goto xYu6O; t2YpD: we7_setcookie("\x70\141\x63\x6b\x61\x67\x65\137\x6d\144\x35", $data["\x6d\144\x35"]); goto j7JJp; j7JJp: we7_setcookie("\143\x68\x75\x6e\153\x5f\164\x6f\164\141\x6c", $data["\x63\x68\x75\x6e\153\137\x74\157\x74\x61\154"]); goto qHKic; K4iNX: $ret["\163\145\x73\x73\151\x6f\156"]["\156\141\x6d\x65"] = "\163\x65\x73\x73\151\157\156\x2e\x61\165\x74\x6f\137\x73\x74\x61\x72\164\xe5\274\200\xe5\x90\xaf"; goto cnMlV; g_55N: goto eIL_S; goto elyYT; yM6BK: $is_https = $_SERVER["\x53\105\122\126\105\x52\x5f\x50\117\122\124"] == 443 || isset($_SERVER["\x48\x54\x54\120\123"]) && strtolower($_SERVER["\110\x54\x54\120\x53"]) != "\x6f\146\146" || strtolower($_SERVER["\110\124\124\x50\x5f\130\137\106\x4f\122\127\x41\122\104\105\104\137\120\122\117\x54\117"]) == "\x68\164\164\160\163" || strtolower($_SERVER["\110\124\x54\x50\x5f\x58\137\x43\x4c\x49\105\116\x54\x5f\123\x43\110\x45\x4d\105"]) == "\150\164\x74\160\163" ? true : false; goto LWh_2; HOi08: $sitepath = str_replace("\x2f\151\x6e\x73\x74\x61\x6c\x6c\x2e\x70\x68\x70", '', $sitepath); goto JpcM0; R2tqr: exit; goto CCJAx; UdZXo: $callback = urlencode($url); goto FqT4f; TUuNd: vao94: goto N3d_f; dBsaN: define("\111\116\137\123\131\x53", true); goto t7cXs; u0w2e: if (!(is_array($data) && isset($data["\x65\x72\162\157\162"]))) { goto uGyl9; } goto H_j7q; Rf9Xl: $filesize = filesize($filename); goto s7bcD; cTdsJ: setting_save($site, "\163\151\x74\145"); goto pEs9D; Eo9W7: if ($sitename_result) { goto OxDCi; } goto zOv3H; u8CGc: $ret["\x64\157\x6d"]["\x6f\x6b"] = class_exists("\x44\117\115\x44\x6f\x63\x75\155\145\156\x74"); goto dT3vn; TlqMs: function we7_db() { goto dy0mX; BC0ZS: $support_innodb = false; goto lCPtw; G1hnS: NZs4C: goto bi8yt; tPvIM: C6a9m: goto RP7Nb; iKjDv: return "\345\256\211\350\xa3\205\345\214\205\xe4\270\x8d\xe6\255\243\xe7\xa1\xae\56"; goto P4oHZ; Tx6ae: $cookie["\x68\x61\x73\150"] = md5($password . $salt); goto briBk; oTIfF: $cookie = array("\154\141\163\164\166\151\163\151\164" => '', "\x6c\141\163\164\x69\x70" => ''); goto VToJM; SfTIJ: define("\x49\116\137\111\x41", true); goto IjR_y; HU1XI: $password = sha1("{$user["\x70\141\x73\163\167\x6f\x72\x64"]}\55{$salt}\55{$authkey}"); goto iaISs; d8ZQb: foreach ($dat["\x64\141\164\x61\163"] as $data) { local_run($data, $link, $db); S4_cN: } goto G1hnS; RiP33: $link->exec("\x53\x45\x54\40\143\x68\141\x72\141\x63\x74\x65\162\x5f\x73\x65\x74\x5f\x63\x6f\x6e\156\145\143\164\151\157\x6e\75\165\x74\146\x38\x2c\x20\143\x68\x61\162\141\x63\x74\x65\x72\137\163\145\164\x5f\162\x65\163\165\154\164\163\x3d\165\164\146\70\x2c\40\143\150\x61\x72\x61\x63\x74\x65\x72\x5f\163\x65\x74\137\143\x6c\x69\145\x6e\x74\75\142\151\156\x61\162\171"); goto osT0L; tWR2m: foreach ($dat["\163\x63\150\x65\x6d\141\163"] as $schema) { goto fLaj4; QmIOq: local_run($sql, $link, $db); goto AUvzm; AUvzm: C7zxF: goto Skl9u; fLaj4: $sql = local_create_sql($schema, $support_innodb); goto QmIOq; Skl9u: } goto Fau6m; y8szx: $authkey = $config["\x73\x65\164\x74\151\x6e\x67"]["\x61\x75\x74\150\x6b\x65\x79"]; goto fsXIh; jrwyP: $secure = $is_https ? 1 : 0; goto x3Hbt; u1Hzo: $cookiepre = $config["\x63\157\x6f\153\151\145"]["\x70\162\145"]; goto y8szx; P4oHZ: goto je0_o; goto tPvIM; fsXIh: $link = new PDO("\155\x79\163\x71\154\x3a\144\142\x6e\141\x6d\x65\75{$db["\156\141\x6d\145"]}\x3b\150\x6f\163\164\75{$db["\163\145\162\x76\x65\x72"]}\x3b\160\x6f\x72\164\x3d{$db["\x70\157\x72\x74"]}", $db["\165\x73\145\162\x6e\x61\x6d\x65"], $db["\160\x61\163\x73\167\x6f\162\x64"]); goto RiP33; IjR_y: require IA_INSTALL_ROOT . "\57\144\x61\x74\141\x2f\143\157\x6e\146\x69\147\56\x70\x68\x70"; goto q5Sq9; F84v_: $salt = local_salt(8); goto HU1XI; dy0mX: global $is_https; goto SfTIJ; PzeNi: $user = array("\165\x73\x65\x72\x6e\x61\x6d\x65" => "\x61\x64\155\151\156", "\160\141\x73\x73\167\x6f\x72\x64" => "\x31\x32\63\64\x35\66"); goto F84v_; iaISs: $link->exec("\x49\x4e\x53\x45\122\124\40\x49\116\x54\x4f\x20{$db["\160\x72\x65\x66\x69\x78"]}\165\x73\145\x72\x73\x20\50\x75\163\x65\162\x6e\141\155\145\x2c\40\x70\x61\x73\163\167\157\162\x64\x2c\40\x73\141\x6c\x74\54\x20\x6a\157\151\156\144\x61\x74\145\54\x20\x67\x72\157\x75\160\151\144\54\40\163\164\141\x74\165\x73\x2c\x20\x66\x6f\165\x6e\x64\x65\x72\x5f\x67\162\157\165\160\x69\x64\x2c\x20\151\x73\137\142\151\156\144\51\x20\x56\101\114\x55\105\x53\50\x27{$user["\x75\x73\145\162\156\x61\x6d\x65"]}\x27\x2c\40\x27{$password}\x27\x2c\x20\47{$salt}\x27\54\x20\x27" . time() . "\x27\x2c\x20\x31\x2c\40\x32\54\40\61\54\x20\x30\51"); goto oTIfF; eMM8e: return true; goto DichX; uey99: if (file_exists(IA_INSTALL_ROOT . "\57\151\x6e\x64\x65\x78\x2e\160\150\160") && is_dir(IA_INSTALL_ROOT . "\57\167\145\x62") && file_exists(IA_INSTALL_ROOT . "\x2f\x66\x72\x61\155\145\x77\x6f\x72\x6b\x2f\x76\145\x72\163\151\x6f\156\x2e\x69\x6e\143\x2e\160\150\160") && file_exists($dbfile)) { goto C6a9m; } goto iKjDv; q5Sq9: $db = array("\x73\x65\x72\x76\x65\x72" => $config["\144\x62"]["\x6d\x61\x73\x74\x65\x72"]["\x68\157\x73\x74"], "\x70\x6f\162\x74" => $config["\144\142"]["\155\141\x73\164\x65\162"]["\x70\157\x72\x74"], "\x75\x73\x65\x72\x6e\141\x6d\145" => $config["\144\x62"]["\x6d\141\x73\x74\145\x72"]["\165\163\145\162\156\x61\155\145"], "\160\141\163\163\x77\157\162\144" => $config["\144\x62"]["\155\141\163\x74\145\x72"]["\160\141\163\163\x77\x6f\x72\144"], "\x70\162\145\146\x69\170" => $config["\x64\x62"]["\x6d\141\163\164\x65\162"]["\x74\x61\142\154\145\160\x72\145"], "\156\141\x6d\x65" => $config["\144\142"]["\x6d\x61\163\x74\x65\x72"]["\x64\141\x74\x61\x62\x61\163\x65"]); goto u1Hzo; x3Hbt: setcookie("{$cookiepre}\137\137\163\x65\x73\x73\151\x6f\156", $session, 0, "\57", '', $secure, true); goto eMM8e; zRIG3: return "\345\xae\x89\350\xa3\x85\xe5\214\x85\xe4\xb8\215\xe6\xad\243\xe7\xa1\xae\x2c\40\xe6\x95\xb0\xe6\215\xae\xe5\256\x89\xe8\xa3\205\xe8\x84\232\346\234\xac\347\274\xba\345\244\xb1\x2e"; goto inOKf; lCPtw: $engines = $link->query("\123\110\117\127\40\x45\116\x47\111\116\x45\x53\x3b"); goto ChOau; inOKf: mvCwu: goto BC0ZS; RP7Nb: $dat = (require $dbfile); goto UY1pM; briBk: $session = install_authcode(json_encode($cookie), "\x65\x6e\143\157\x64\x65", $authkey); goto jrwyP; VToJM: $cookie["\x75\x69\x64"] = $link->lastInsertId(); goto Tx6ae; DhY9i: EpA1_: goto tWR2m; Fau6m: SYjBv: goto d8ZQb; UY1pM: if (!(empty($dat) || !is_array($dat))) { goto mvCwu; } goto zRIG3; osT0L: $link->exec("\123\x45\124\x20\163\x71\154\x5f\x6d\x6f\144\145\x3d\47\x27"); goto GWcJN; GWcJN: $dbfile = IA_INSTALL_ROOT . "\57\144\x61\164\x61\57\144\x62\x2e\160\x68\x70"; goto uey99; ChOau: $all_engines = $engines->fetchAll(); goto wvuhU; wvuhU: foreach ($all_engines as $engine) { goto Rrnuc; HR6Gb: $support_innodb = true; goto Mhj9b; Mhj9b: C4s7Q: goto QV4ai; Rrnuc: if (!(strtolower($engine["\x45\x6e\147\x69\156\145"]) == "\151\156\x6e\157\x64\142" && in_array(strtolower($engine["\123\x75\160\x70\157\162\164"]), array("\144\145\146\x61\x75\154\x74", "\x79\145\x73")))) { goto C4s7Q; } goto HR6Gb; QV4ai: VVPBK: goto UvDEl; UvDEl: } goto DhY9i; bi8yt: je0_o: goto PzeNi; DichX: } goto hTpFU; rDIjf: fVsEh: goto dSqfO; cpXMn: $db_prefix = !empty($db_prefix) ? $db_prefix : "\151\155\x73\137"; goto m2C4O; vm8kJ: YWI6S: goto xlPm7; UANE7: CggEy: goto PipMf; dqtjg: GJvSE: goto XwwqP; J7rYV: if ($user_result) { goto xlS4A; } goto XjJJv; NglN8: $ret["\x64\x6f\155"]["\x72\145\x73\x75\154\164"] = "\346\xb2\xa1\346\x9c\x89\xe5\220\257\347\224\xa8\104\117\115\x44\x6f\143\x75\x6d\145\156\x74"; goto FOVN9; eiKiu: ob_start(); goto GjQJu; nK8ZA: goto lVnna; goto Jnqlx; pBWKy: define("\x41\120\111\x5f\125\x50\104\101\124\x45\x5f\x53\x49\x54\x45\116\101\115\x45", API_HOST . "\57\163\151\x74\145\x2f\162\145\x67\151\x73\x74\145\x72\57\x72\145\156\x61\x6d\x65"); goto PtNwq; ubSZ0: l4Ofu: goto gZXaI; pW8jZ: $output = fread($hostfile, 8192); goto ZnWcQ; goda3: define("\x41\120\x49\137\117\x41\125\x54\x48\x5f\x4c\117\107\x49\x4e\137\x55\x52\114", API_HOST . "\x2f\x6f\141\x75\x74\150\57\x6c\x6f\147\x69\x6e\55\x75\162\x6c\57\151\x6e\144\145\x78"); goto K90Vu; nXvMg: X55iQ: goto bmr4N; pTfwd: e2pUb: goto N_06z; yGIBl: $ret["\x64\x61\x74\141"]["\x72\145\163\165\154\164"] = "\144\141\164\141\347\233\256\xe5\275\225\346\x97\xa0\346\263\225\345\206\x99\345\205\245"; goto wr0zv; OE_Yv: $data = we7_request_api(API_SITE_REGISTER_EXIST, array("\x75\x72\x6c" => $siteroot)); goto gLowi; zOv3H: exit(we7_error(400, "\xe4\277\256\xe6\x94\xb9\347\253\x99\347\202\271\xe5\x90\215\347\247\260\345\244\xb1\350\264\245\x2e")); goto gKOdf; EjiVk: if (!($finished === true)) { goto YWI6S; } goto OcfwI; bsVEh: $ret["\x64\x61\164\141"]["\156\141\x6d\x65"] = "\x64\x61\x74\141\347\x9b\256\345\xbd\x95\345\x86\231\xe5\x85\245"; goto yGIBl; BaB90: A9CoC: goto XfWTd; TiGL1: g1etz: goto aV1n1; bmr4N: $ret["\141\x73\160\x5f\x74\141\147\163"]["\157\x6b"] = ini_get("\x61\x73\160\x5f\164\141\x67\163"); goto Nsdy6; yr5tc: if (!($username != "\141\144\155\151\156" || $password != "\61\62\63\64\65\66")) { goto r_l2P; } goto gB0Sq; tHhdY: goto A9CoC; goto A7LxI; lBnU9: exit(we7_error(400, $chunk_num)); goto nK8ZA; SjuZI: $ret["\156\145\164\x77\157\162\153\137\x65\x6e\x61\142\154\145\144"]["\156\x61\x6d\145"] = "\xe5\244\226\xe7\275\x91\345\217\xaf\xe8\xae\277\351\227\256\346\x80\247"; goto UYSFl; MUEMU: y8vTN: goto dVRGo; ugzPi: exit(we7_error(0, $result)); goto pYkpL; wga2I: $ret["\x72\157\x6f\164"]["\157\153"] = local_writeable(IA_INSTALL_ROOT); goto pNVtU; dT3vn: if ($ret["\144\x6f\x6d"]["\x6f\153"]) { goto ww0CU; } goto i5PI1; MI8Xl: KgUHC: goto rDIjf; Yb9qw: if (!(!empty($auth["\165\162\154"]) && $auth["\165\x72\154"] == $siteroot)) { goto LAVTN; } goto dBsaN; aFmqI: IEqwi: goto AywPq; OGlbB: function we7_get_accesstoken() { goto dzN5j; jDk9H: return $accesstoken["\x61\143\x63\x65\x73\x73\124\157\x6b\145\156"]; goto OwCGg; dzN5j: $cookie_accesstoken = we7_getcookie("\x61\x63\143\x65\163\163\x74\157\x6b\x65\156"); goto ClYj3; ClYj3: $accesstoken = json_decode($cookie_accesstoken, true); goto mH9cp; OwCGg: ITXcH: goto z_jva; z_jva: return ''; goto UqZ_G; mH9cp: if (!(!empty($accesstoken) && !empty($accesstoken["\141\143\143\x65\163\163\124\157\153\x65\156"]) && $accesstoken["\145\170\x70\x69\162\x65\x54\x69\155\x65"] > time())) { goto ITXcH; } goto jDk9H; UqZ_G: } goto YTipF; YT1X_: if (!(!file_exists(IA_INSTALL_ROOT . "\57\x64\141\164\141\57\143\x6f\x6e\146\151\147\56\x70\150\x70") || !empty($_POST))) { goto e2pUb; } goto NXG1Q; jJm2g: VYDnE: goto aWfZ7; ct0Dg: exit(we7_error(400, "\143\150\x75\x6e\153\345\xa4\xa7\xe4\272\x8e\xe6\x9c\200\345\xa4\xa7\xe5\x80\xbc")); goto LMHj3; FTAme: function we7_setcookie($key, $value) { goto B9l5h; gvkAq: $value = json_encode($value); goto w3CdY; B9l5h: $secure = $_SERVER["\x53\105\x52\126\105\x52\137\x50\x4f\x52\124"] == 443 ? 1 : 0; goto Lg5i9; w3CdY: CUQhs: goto x7zSD; Lg5i9: if (!is_array($value)) { goto CUQhs; } goto gvkAq; x7zSD: return setcookie(COOKIE_PRE . $key, $value, 0, '', '', $secure, true); goto ao9qH; ao9qH: } goto R4rMV; qi5RK: clearstatcache(); goto Yxn5W; AGOsq: RaZSp: goto yM6BK; JgsiY: xBubi: goto dPJDD; QyEq1: $ret["\165\x70\154\157\x61\144"]["\146\x61\x69\154\x65\144"] = true; goto akF1a; HJyYf: $header_array = get_headers($cdn_source_file, 1); goto GhA47; AnAGg: $register_site_result = we7_register_site(); goto nDWay; Nsdy6: if (!(!empty($ret["\141\163\x70\x5f\164\141\147\163"]["\157\x6b"]) && strtolower($ret["\141\x73\x70\137\164\141\x67\x73"]["\x6f\153"]) == "\x6f\x6e")) { goto lXrUr; } goto nAXgP; C0vGO: error_reporting(0); goto NtO6K; pEs9D: exit(we7_error(0, "\163\165\x63\143\145\x73\163")); goto mPReN; bBYP8: $result = intval($download_size / $source_size * 100); goto ugzPi; c12K1: function install_authcode($string, $operation = "\x44\x45\x43\x4f\x44\x45", $key = '', $expiry = 0) { goto EGXie; bxY84: $keyb = md5(substr($key, 16, 16)); goto R3fOo; Qdgsj: if (!($i < 256)) { goto IXZCV; } goto fHysV; NeGmu: $i++; goto ooetd; efuk8: if (!($i < $string_length)) { goto E16sX; } goto EOvUo; P86Ie: $key = md5($key != '' ? $key : $GLOBALS["\137\x57"]["\x63\157\156\x66\x69\147"]["\x73\145\164\164\151\x6e\147"]["\141\165\x74\150\x6b\x65\171"]); goto RScvi; KuE8L: E16sX: goto kOQhb; mTqJ7: $a = $j = $i = 0; goto tBWKb; yGmpW: return ''; goto HIxLo; i5s_a: $tmp = $box[$i]; goto XcDDl; ggyWX: cGNj_: goto ueXna; XcDDl: $box[$i] = $box[$j]; goto mX48l; PI4O9: P0wCe: goto zpytl; EOvUo: $a = ($a + 1) % 256; goto c0uZ2; zpytl: $j = $i = 0; goto IT7HW; D0Px8: rVrST: goto NeGmu; YlY1c: $box[$j] = $tmp; goto ov5D2; IT7HW: DEUvU: goto Qdgsj; KBuTE: $result = ''; goto gilfT; zzcyF: IXZCV: goto mTqJ7; UV9Ww: UP3Gl: goto WnXHx; Z4Tbt: $i++; goto R9lvE; R9lvE: goto RIH6g; goto PI4O9; ueXna: $i++; goto pIxft; u0S5y: $string_length = strlen($string); goto KBuTE; ynYwl: $cryptkey = $keya . md5($keya . $keyc); goto SOQBv; R3fOo: $keyc = $ckey_length ? $operation == "\104\x45\x43\x4f\x44\105" ? substr($string, 0, $ckey_length) : substr(md5(microtime()), -$ckey_length) : ''; goto ynYwl; fHysV: $j = ($j + $box[$i] + $rndkey[$i]) % 256; goto i5s_a; BSBmC: u5yiV: goto Z4Tbt; hIN7P: qeMNS: goto L67_e; ooetd: goto Fj7rv; goto KuE8L; mX48l: $box[$j] = $tmp; goto ggyWX; zsjxY: if ((substr($result, 0, 10) == 0 || substr($result, 0, 10) - time() > 0) && substr($result, 10, 16) == substr(md5(substr($result, 26) . $keyb), 0, 16)) { goto UP3Gl; } goto yGmpW; gilfT: $box = range(0, 255); goto T2xPw; EGXie: $ckey_length = 4; goto P86Ie; gmzJw: RIH6g: goto EZ1Vy; HIxLo: goto DM6fz; goto UV9Ww; eFE2L: $box[$a] = $box[$j]; goto YlY1c; ov5D2: $result .= chr(ord($string[$i]) ^ $box[($box[$a] + $box[$j]) % 256]); goto D0Px8; Rem7_: goto qeMNS; goto w7pAM; kOQhb: if ($operation == "\x44\x45\x43\117\x44\105") { goto ed7gL; } goto V7rMT; ip8sW: $i = 0; goto gmzJw; c0uZ2: $j = ($j + $box[$a]) % 256; goto LleL9; tBWKb: Fj7rv: goto efuk8; A8vw4: $string = $operation == "\x44\x45\103\x4f\104\105" ? base64_decode(substr($string, $ckey_length)) : sprintf("\x25\x30\x31\x30\x64", $expiry ? $expiry + time() : 0) . substr(md5($string . $keyb), 0, 16) . $string; goto u0S5y; V7rMT: return $keyc . str_replace("\75", '', base64_encode($result)); goto Rem7_; LleL9: $tmp = $box[$a]; goto eFE2L; SOQBv: $key_length = strlen($cryptkey); goto A8vw4; b0bhn: DM6fz: goto hIN7P; RScvi: $keya = md5(substr($key, 0, 16)); goto bxY84; pIxft: goto DEUvU; goto zzcyF; l04a9: $rndkey[$i] = ord($cryptkey[$i % $key_length]); goto BSBmC; w7pAM: ed7gL: goto zsjxY; EZ1Vy: if (!($i <= 255)) { goto P0wCe; } goto l04a9; T2xPw: $rndkey = array(); goto ip8sW; WnXHx: return substr($result, 26); goto b0bhn; L67_e: } goto BP0tN; eVf4V: define("\101\120\111\137\107\105\124\137\x43\x48\x55\116\113\137\x50\101\x43\113\101\107\x45", API_HOST . "\x2f\x75\164\x69\x6c\x2f\160\141\x63\153\x61\x67\x65\57\x69\156\x73\164\x61\x6c\x6c"); goto bPhbX; cZTg5: exit(we7_error(400, $chunk_num)); goto IczJ0; R4rMV: function we7_getcookie($key) { goto IpEa6; YXPqS: edV5g: goto UB46A; CjSR7: return ''; goto YXPqS; Cc9x2: return $_COOKIE[$key]; goto IhFCi; UB46A: $key = COOKIE_PRE . $key; goto Cc9x2; IpEa6: if (!empty($key)) { goto edV5g; } goto CjSR7; IhFCi: }